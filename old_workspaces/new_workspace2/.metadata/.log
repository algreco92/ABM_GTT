!SESSION 2015-11-08 13:08:26.907 -----------------------------------------------
eclipse.buildId=unknown
java.version=1.7.0_85
java.vendor=Oracle Corporation
BootLoader constants: OS=linux, ARCH=x86_64, WS=gtk, NL=${target.nl}
Command-line arguments:  -os linux -ws gtk -arch x86_64 -data @noDefault

!ENTRY org.eclipse.ui 4 4 2015-11-08 13:08:33.143
!MESSAGE Unable to create menu item "org.eclipse.ui.update.findAndInstallUpdates", command "org.eclipse.ui.update.findAndInstallUpdates" not defined

!ENTRY org.eclipse.ui 4 4 2015-11-08 13:08:33.144
!MESSAGE Unable to create menu item "org.eclipse.ui.update.manageConfiguration", command "org.eclipse.ui.update.manageConfiguration" not defined

!ENTRY org.apache.log4j 2 0 2015-11-08 13:08:33.668
!MESSAGE org.eclipse.xtext.ui.shared.internal.Activator  - Disabling JDT use. : org/eclipse/jdt/core/JavaCore


!ENTRY org.apache.log4j 2 0 2015-11-08 13:08:33.797
!MESSAGE org.eclipse.xtext.ui.shared.internal.Activator  - Disabling JDT use. : org/eclipse/jdt/core/JavaCore


!ENTRY org.eclipse.ui.ide 4 4 2015-11-08 13:09:19.968
!MESSAGE File toolbar contribution item is missing

!ENTRY org.eclipse.ui 4 4 2015-11-08 13:10:23.988
!MESSAGE Perspective msi.gama.application.perspectives.SimulationPerspective open 
!SESSION 2015-11-08 20:33:18.286 -----------------------------------------------
eclipse.buildId=unknown
java.version=1.8.0_60
java.vendor=Oracle Corporation
BootLoader constants: OS=win32, ARCH=x86_64, WS=win32, NL=${target.nl}
Command-line arguments:  -os win32 -ws win32 -arch x86_64 -data @noDefault

!ENTRY org.eclipse.core.resources 4 567 2015-11-08 20:33:19.005
!MESSAGE Workspace restored, but some problems occurred.
!SUBENTRY 1 org.eclipse.core.resources 4 567 2015-11-08 20:33:19.005
!MESSAGE Could not read metadata for 'Features'.
!STACK 1
org.eclipse.core.internal.resources.ResourceException: The project description file (.project) for 'Features' is missing.  This file contains important information about the project.  The project will not function properly until this file is restored.
	at org.eclipse.core.internal.localstore.FileSystemResourceManager.read(FileSystemResourceManager.java:851)
	at org.eclipse.core.internal.resources.SaveManager.restoreMetaInfo(SaveManager.java:874)
	at org.eclipse.core.internal.resources.SaveManager.restoreMetaInfo(SaveManager.java:854)
	at org.eclipse.core.internal.resources.SaveManager.restore(SaveManager.java:703)
	at org.eclipse.core.internal.resources.SaveManager.startup(SaveManager.java:1528)
	at org.eclipse.core.internal.resources.Workspace.startup(Workspace.java:2502)
	at org.eclipse.core.internal.resources.Workspace.open(Workspace.java:2251)
	at org.eclipse.core.resources.ResourcesPlugin.start(ResourcesPlugin.java:439)
	at org.eclipse.osgi.framework.internal.core.BundleContextImpl$1.run(BundleContextImpl.java:711)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.eclipse.osgi.framework.internal.core.BundleContextImpl.startActivator(BundleContextImpl.java:702)
	at org.eclipse.osgi.framework.internal.core.BundleContextImpl.start(BundleContextImpl.java:683)
	at org.eclipse.osgi.framework.internal.core.BundleHost.startWorker(BundleHost.java:381)
	at org.eclipse.osgi.framework.internal.core.AbstractBundle.start(AbstractBundle.java:300)
	at org.eclipse.osgi.framework.util.SecureAction.start(SecureAction.java:440)
	at org.eclipse.osgi.internal.loader.BundleLoader.setLazyTrigger(BundleLoader.java:263)
	at org.eclipse.core.runtime.internal.adaptor.EclipseLazyStarter.postFindLocalClass(EclipseLazyStarter.java:107)
	at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findLocalClass(ClasspathManager.java:469)
	at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.findLocalClass(DefaultClassLoader.java:216)
	at org.eclipse.osgi.internal.loader.BundleLoader.findLocalClass(BundleLoader.java:395)
	at org.eclipse.osgi.internal.loader.SingleSourcePackage.loadClass(SingleSourcePackage.java:35)
	at org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(BundleLoader.java:461)
	at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:421)
	at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:412)
	at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(DefaultClassLoader.java:107)
	at java.lang.ClassLoader.loadClass(Unknown Source)
	at msi.gama.gui.swt.ApplicationWorkbenchAdvisor.initialize(ApplicationWorkbenchAdvisor.java:47)
	at org.eclipse.ui.application.WorkbenchAdvisor.internalBasicInitialize(WorkbenchAdvisor.java:188)
	at org.eclipse.ui.internal.Workbench$28.runWithException(Workbench.java:1541)
	at org.eclipse.ui.internal.StartupThreading$StartupRunnable.run(StartupThreading.java:31)
	at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)
	at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:135)
	at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:4145)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3762)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2609)
	at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2499)
	at org.eclipse.ui.internal.Workbench$7.run(Workbench.java:679)
	at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:668)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)
	at msi.gama.gui.swt.Application.start(Application.java:120)
	at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196)
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110)
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:353)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:180)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:629)
	at org.eclipse.equinox.launcher.Main.basicRun(Main.java:584)
	at org.eclipse.equinox.launcher.Main.run(Main.java:1438)
!SUBENTRY 2 org.eclipse.core.resources 4 567 2015-11-08 20:33:19.021
!MESSAGE The project description file (.project) for 'Features' is missing.  This file contains important information about the project.  The project will not function properly until this file is restored.
!SUBENTRY 1 org.eclipse.core.resources 4 567 2015-11-08 20:33:19.021
!MESSAGE Could not read metadata for 'Syntax'.
!STACK 1
org.eclipse.core.internal.resources.ResourceException: The project description file (.project) for 'Syntax' is missing.  This file contains important information about the project.  The project will not function properly until this file is restored.
	at org.eclipse.core.internal.localstore.FileSystemResourceManager.read(FileSystemResourceManager.java:851)
	at org.eclipse.core.internal.resources.SaveManager.restoreMetaInfo(SaveManager.java:874)
	at org.eclipse.core.internal.resources.SaveManager.restoreMetaInfo(SaveManager.java:854)
	at org.eclipse.core.internal.resources.SaveManager.restore(SaveManager.java:703)
	at org.eclipse.core.internal.resources.SaveManager.startup(SaveManager.java:1528)
	at org.eclipse.core.internal.resources.Workspace.startup(Workspace.java:2502)
	at org.eclipse.core.internal.resources.Workspace.open(Workspace.java:2251)
	at org.eclipse.core.resources.ResourcesPlugin.start(ResourcesPlugin.java:439)
	at org.eclipse.osgi.framework.internal.core.BundleContextImpl$1.run(BundleContextImpl.java:711)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.eclipse.osgi.framework.internal.core.BundleContextImpl.startActivator(BundleContextImpl.java:702)
	at org.eclipse.osgi.framework.internal.core.BundleContextImpl.start(BundleContextImpl.java:683)
	at org.eclipse.osgi.framework.internal.core.BundleHost.startWorker(BundleHost.java:381)
	at org.eclipse.osgi.framework.internal.core.AbstractBundle.start(AbstractBundle.java:300)
	at org.eclipse.osgi.framework.util.SecureAction.start(SecureAction.java:440)
	at org.eclipse.osgi.internal.loader.BundleLoader.setLazyTrigger(BundleLoader.java:263)
	at org.eclipse.core.runtime.internal.adaptor.EclipseLazyStarter.postFindLocalClass(EclipseLazyStarter.java:107)
	at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findLocalClass(ClasspathManager.java:469)
	at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.findLocalClass(DefaultClassLoader.java:216)
	at org.eclipse.osgi.internal.loader.BundleLoader.findLocalClass(BundleLoader.java:395)
	at org.eclipse.osgi.internal.loader.SingleSourcePackage.loadClass(SingleSourcePackage.java:35)
	at org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(BundleLoader.java:461)
	at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:421)
	at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:412)
	at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(DefaultClassLoader.java:107)
	at java.lang.ClassLoader.loadClass(Unknown Source)
	at msi.gama.gui.swt.ApplicationWorkbenchAdvisor.initialize(ApplicationWorkbenchAdvisor.java:47)
	at org.eclipse.ui.application.WorkbenchAdvisor.internalBasicInitialize(WorkbenchAdvisor.java:188)
	at org.eclipse.ui.internal.Workbench$28.runWithException(Workbench.java:1541)
	at org.eclipse.ui.internal.StartupThreading$StartupRunnable.run(StartupThreading.java:31)
	at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)
	at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:135)
	at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:4145)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3762)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2609)
	at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2499)
	at org.eclipse.ui.internal.Workbench$7.run(Workbench.java:679)
	at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:668)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)
	at msi.gama.gui.swt.Application.start(Application.java:120)
	at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196)
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110)
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:353)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:180)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:629)
	at org.eclipse.equinox.launcher.Main.basicRun(Main.java:584)
	at org.eclipse.equinox.launcher.Main.run(Main.java:1438)
!SUBENTRY 2 org.eclipse.core.resources 4 567 2015-11-08 20:33:19.021
!MESSAGE The project description file (.project) for 'Syntax' is missing.  This file contains important information about the project.  The project will not function properly until this file is restored.
!SUBENTRY 1 org.eclipse.core.resources 4 567 2015-11-08 20:33:19.021
!MESSAGE Could not read metadata for 'Toy Models'.
!STACK 1
org.eclipse.core.internal.resources.ResourceException: The project description file (.project) for 'Toy Models' is missing.  This file contains important information about the project.  The project will not function properly until this file is restored.
	at org.eclipse.core.internal.localstore.FileSystemResourceManager.read(FileSystemResourceManager.java:851)
	at org.eclipse.core.internal.resources.SaveManager.restoreMetaInfo(SaveManager.java:874)
	at org.eclipse.core.internal.resources.SaveManager.restoreMetaInfo(SaveManager.java:854)
	at org.eclipse.core.internal.resources.SaveManager.restore(SaveManager.java:703)
	at org.eclipse.core.internal.resources.SaveManager.startup(SaveManager.java:1528)
	at org.eclipse.core.internal.resources.Workspace.startup(Workspace.java:2502)
	at org.eclipse.core.internal.resources.Workspace.open(Workspace.java:2251)
	at org.eclipse.core.resources.ResourcesPlugin.start(ResourcesPlugin.java:439)
	at org.eclipse.osgi.framework.internal.core.BundleContextImpl$1.run(BundleContextImpl.java:711)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.eclipse.osgi.framework.internal.core.BundleContextImpl.startActivator(BundleContextImpl.java:702)
	at org.eclipse.osgi.framework.internal.core.BundleContextImpl.start(BundleContextImpl.java:683)
	at org.eclipse.osgi.framework.internal.core.BundleHost.startWorker(BundleHost.java:381)
	at org.eclipse.osgi.framework.internal.core.AbstractBundle.start(AbstractBundle.java:300)
	at org.eclipse.osgi.framework.util.SecureAction.start(SecureAction.java:440)
	at org.eclipse.osgi.internal.loader.BundleLoader.setLazyTrigger(BundleLoader.java:263)
	at org.eclipse.core.runtime.internal.adaptor.EclipseLazyStarter.postFindLocalClass(EclipseLazyStarter.java:107)
	at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findLocalClass(ClasspathManager.java:469)
	at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.findLocalClass(DefaultClassLoader.java:216)
	at org.eclipse.osgi.internal.loader.BundleLoader.findLocalClass(BundleLoader.java:395)
	at org.eclipse.osgi.internal.loader.SingleSourcePackage.loadClass(SingleSourcePackage.java:35)
	at org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(BundleLoader.java:461)
	at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:421)
	at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:412)
	at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(DefaultClassLoader.java:107)
	at java.lang.ClassLoader.loadClass(Unknown Source)
	at msi.gama.gui.swt.ApplicationWorkbenchAdvisor.initialize(ApplicationWorkbenchAdvisor.java:47)
	at org.eclipse.ui.application.WorkbenchAdvisor.internalBasicInitialize(WorkbenchAdvisor.java:188)
	at org.eclipse.ui.internal.Workbench$28.runWithException(Workbench.java:1541)
	at org.eclipse.ui.internal.StartupThreading$StartupRunnable.run(StartupThreading.java:31)
	at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)
	at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:135)
	at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:4145)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3762)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2609)
	at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2499)
	at org.eclipse.ui.internal.Workbench$7.run(Workbench.java:679)
	at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:668)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)
	at msi.gama.gui.swt.Application.start(Application.java:120)
	at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196)
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110)
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:353)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:180)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:629)
	at org.eclipse.equinox.launcher.Main.basicRun(Main.java:584)
	at org.eclipse.equinox.launcher.Main.run(Main.java:1438)
!SUBENTRY 2 org.eclipse.core.resources 4 567 2015-11-08 20:33:19.021
!MESSAGE The project description file (.project) for 'Toy Models' is missing.  This file contains important information about the project.  The project will not function properly until this file is restored.
!SUBENTRY 1 org.eclipse.core.resources 4 567 2015-11-08 20:33:19.021
!MESSAGE Could not read metadata for 'Tutorials'.
!STACK 1
org.eclipse.core.internal.resources.ResourceException: The project description file (.project) for 'Tutorials' is missing.  This file contains important information about the project.  The project will not function properly until this file is restored.
	at org.eclipse.core.internal.localstore.FileSystemResourceManager.read(FileSystemResourceManager.java:851)
	at org.eclipse.core.internal.resources.SaveManager.restoreMetaInfo(SaveManager.java:874)
	at org.eclipse.core.internal.resources.SaveManager.restoreMetaInfo(SaveManager.java:854)
	at org.eclipse.core.internal.resources.SaveManager.restore(SaveManager.java:703)
	at org.eclipse.core.internal.resources.SaveManager.startup(SaveManager.java:1528)
	at org.eclipse.core.internal.resources.Workspace.startup(Workspace.java:2502)
	at org.eclipse.core.internal.resources.Workspace.open(Workspace.java:2251)
	at org.eclipse.core.resources.ResourcesPlugin.start(ResourcesPlugin.java:439)
	at org.eclipse.osgi.framework.internal.core.BundleContextImpl$1.run(BundleContextImpl.java:711)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.eclipse.osgi.framework.internal.core.BundleContextImpl.startActivator(BundleContextImpl.java:702)
	at org.eclipse.osgi.framework.internal.core.BundleContextImpl.start(BundleContextImpl.java:683)
	at org.eclipse.osgi.framework.internal.core.BundleHost.startWorker(BundleHost.java:381)
	at org.eclipse.osgi.framework.internal.core.AbstractBundle.start(AbstractBundle.java:300)
	at org.eclipse.osgi.framework.util.SecureAction.start(SecureAction.java:440)
	at org.eclipse.osgi.internal.loader.BundleLoader.setLazyTrigger(BundleLoader.java:263)
	at org.eclipse.core.runtime.internal.adaptor.EclipseLazyStarter.postFindLocalClass(EclipseLazyStarter.java:107)
	at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findLocalClass(ClasspathManager.java:469)
	at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.findLocalClass(DefaultClassLoader.java:216)
	at org.eclipse.osgi.internal.loader.BundleLoader.findLocalClass(BundleLoader.java:395)
	at org.eclipse.osgi.internal.loader.SingleSourcePackage.loadClass(SingleSourcePackage.java:35)
	at org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(BundleLoader.java:461)
	at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:421)
	at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:412)
	at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(DefaultClassLoader.java:107)
	at java.lang.ClassLoader.loadClass(Unknown Source)
	at msi.gama.gui.swt.ApplicationWorkbenchAdvisor.initialize(ApplicationWorkbenchAdvisor.java:47)
	at org.eclipse.ui.application.WorkbenchAdvisor.internalBasicInitialize(WorkbenchAdvisor.java:188)
	at org.eclipse.ui.internal.Workbench$28.runWithException(Workbench.java:1541)
	at org.eclipse.ui.internal.StartupThreading$StartupRunnable.run(StartupThreading.java:31)
	at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)
	at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:135)
	at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:4145)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3762)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2609)
	at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2499)
	at org.eclipse.ui.internal.Workbench$7.run(Workbench.java:679)
	at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:668)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)
	at msi.gama.gui.swt.Application.start(Application.java:120)
	at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196)
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110)
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:353)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:180)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:629)
	at org.eclipse.equinox.launcher.Main.basicRun(Main.java:584)
	at org.eclipse.equinox.launcher.Main.run(Main.java:1438)
!SUBENTRY 2 org.eclipse.core.resources 4 567 2015-11-08 20:33:19.021
!MESSAGE The project description file (.project) for 'Tutorials' is missing.  This file contains important information about the project.  The project will not function properly until this file is restored.

!ENTRY org.eclipse.ui 4 4 2015-11-08 20:33:19.692
!MESSAGE Unable to create menu item "org.eclipse.ui.update.findAndInstallUpdates", command "org.eclipse.ui.update.findAndInstallUpdates" not defined

!ENTRY org.eclipse.ui 4 4 2015-11-08 20:33:19.692
!MESSAGE Unable to create menu item "org.eclipse.ui.update.manageConfiguration", command "org.eclipse.ui.update.manageConfiguration" not defined

!ENTRY org.apache.log4j 2 0 2015-11-08 20:33:19.974
!MESSAGE org.eclipse.xtext.ui.shared.internal.Activator  - Disabling JDT use. : org/eclipse/jdt/core/JavaCore


!ENTRY org.apache.log4j 2 0 2015-11-08 20:33:20.130
!MESSAGE org.eclipse.xtext.ui.shared.internal.Activator  - Disabling JDT use. : org/eclipse/jdt/core/JavaCore


!ENTRY org.eclipse.ui 4 0 2015-11-08 20:33:21.021
!MESSAGE FileDocumentProvider.createElementInfo
!STACK 1
org.eclipse.core.internal.resources.ResourceException: Resource '/GTT_essential/GTT/models/Model_5.0.1_Stabilita.gaml' does not exist.
	at org.eclipse.core.internal.resources.Resource.checkExists(Resource.java:341)
	at org.eclipse.core.internal.resources.Resource.checkAccessible(Resource.java:215)
	at org.eclipse.core.internal.resources.File.getContents(File.java:287)
	at org.eclipse.ui.editors.text.FileDocumentProvider.setDocumentContent(FileDocumentProvider.java:397)
	at org.eclipse.xtext.ui.editor.model.XtextDocumentProvider.setDocumentContent(XtextDocumentProvider.java:194)
	at org.eclipse.ui.editors.text.StorageDocumentProvider.createDocument(StorageDocumentProvider.java:229)
	at org.eclipse.xtext.ui.editor.model.XtextDocumentProvider.createDocument(XtextDocumentProvider.java:139)
	at org.eclipse.ui.editors.text.FileDocumentProvider.createElementInfo(FileDocumentProvider.java:735)
	at org.eclipse.xtext.ui.editor.model.XtextDocumentProvider.createElementInfo(XtextDocumentProvider.java:252)
	at org.eclipse.ui.texteditor.AbstractDocumentProvider.connect(AbstractDocumentProvider.java:400)
	at org.eclipse.ui.texteditor.AbstractTextEditor.doSetInput(AbstractTextEditor.java:4222)
	at org.eclipse.ui.texteditor.StatusTextEditor.doSetInput(StatusTextEditor.java:237)
	at org.eclipse.ui.texteditor.AbstractDecoratedTextEditor.doSetInput(AbstractDecoratedTextEditor.java:1480)
	at org.eclipse.ui.editors.text.TextEditor.doSetInput(TextEditor.java:169)
	at org.eclipse.xtext.ui.editor.XtextEditor.doSetInput(XtextEditor.java:226)
	at org.eclipse.ui.texteditor.AbstractTextEditor$19.run(AbstractTextEditor.java:3209)
	at org.eclipse.jface.operation.ModalContext.runInCurrentThread(ModalContext.java:464)
	at org.eclipse.jface.operation.ModalContext.run(ModalContext.java:372)
	at org.eclipse.jface.window.ApplicationWindow$1.run(ApplicationWindow.java:759)
	at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:70)
	at org.eclipse.jface.window.ApplicationWindow.run(ApplicationWindow.java:756)
	at org.eclipse.ui.internal.WorkbenchWindow.run(WorkbenchWindow.java:2649)
	at org.eclipse.ui.texteditor.AbstractTextEditor.internalInit(AbstractTextEditor.java:3227)
	at org.eclipse.ui.texteditor.AbstractTextEditor.init(AbstractTextEditor.java:3254)
	at org.eclipse.xtext.ui.editor.XtextEditor.init(XtextEditor.java:249)
	at org.eclipse.ui.internal.EditorManager.createSite(EditorManager.java:828)
	at org.eclipse.ui.internal.EditorReference.createPartHelper(EditorReference.java:647)
	at org.eclipse.ui.internal.EditorReference.createPart(EditorReference.java:465)
	at org.eclipse.ui.internal.WorkbenchPartReference.getPart(WorkbenchPartReference.java:595)
	at org.eclipse.ui.internal.EditorAreaHelper.setVisibleEditor(EditorAreaHelper.java:271)
	at org.eclipse.ui.internal.EditorManager.setVisibleEditor(EditorManager.java:1459)
	at org.eclipse.ui.internal.EditorManager$5.runWithException(EditorManager.java:972)
	at org.eclipse.ui.internal.StartupThreading$StartupRunnable.run(StartupThreading.java:31)
	at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)
	at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:135)
	at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:4145)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3762)
	at org.eclipse.ui.application.WorkbenchAdvisor.openWindows(WorkbenchAdvisor.java:803)
	at org.eclipse.ui.internal.Workbench$33.runWithException(Workbench.java:1600)
	at org.eclipse.ui.internal.StartupThreading$StartupRunnable.run(StartupThreading.java:31)
	at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)
	at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:135)
	at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:4145)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3762)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2609)
	at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2499)
	at org.eclipse.ui.internal.Workbench$7.run(Workbench.java:679)
	at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:668)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)
	at msi.gama.gui.swt.Application.start(Application.java:120)
	at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196)
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110)
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:353)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:180)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:629)
	at org.eclipse.equinox.launcher.Main.basicRun(Main.java:584)
	at org.eclipse.equinox.launcher.Main.run(Main.java:1438)
!SUBENTRY 1 org.eclipse.core.resources 4 368 2015-11-08 20:33:21.021
!MESSAGE Resource '/GTT_essential/GTT/models/Model_5.0.1_Stabilita.gaml' does not exist.

!ENTRY org.eclipse.ui.ide 4 4 2015-11-08 20:33:23.241
!MESSAGE File toolbar contribution item is missing

!ENTRY org.eclipse.ui 4 4 2015-11-08 20:33:50.632
!MESSAGE Perspective msi.gama.application.perspectives.SimulationPerspective open 

!ENTRY org.eclipse.ui 4 4 2015-11-08 20:38:55.634
!MESSAGE Perspective msi.gama.application.perspectives.ModelingPerspective open 

!ENTRY org.eclipse.ui 4 4 2015-11-08 20:38:56.649
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.FacetImpl@a1d56d1 (name: null) (key: <-)

!ENTRY org.eclipse.ui 4 4 2015-11-08 20:38:59.732
!MESSAGE Perspective msi.gama.application.perspectives.SimulationPerspective open 

!ENTRY org.eclipse.ui 4 4 2015-11-08 20:39:25.527
!MESSAGE Perspective msi.gama.application.perspectives.ModelingPerspective open 

!ENTRY org.eclipse.ui 4 4 2015-11-08 20:39:52.039
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.VariableRefImpl@36873484 (op: null)
!SESSION 2015-11-09 00:14:05.807 -----------------------------------------------
eclipse.buildId=unknown
java.version=1.8.0_60
java.vendor=Oracle Corporation
BootLoader constants: OS=win32, ARCH=x86_64, WS=win32, NL=${target.nl}
Command-line arguments:  -os win32 -ws win32 -arch x86_64 -data @noDefault

!ENTRY org.eclipse.ui 4 4 2015-11-09 00:14:07.264
!MESSAGE Unable to create menu item "org.eclipse.ui.update.findAndInstallUpdates", command "org.eclipse.ui.update.findAndInstallUpdates" not defined

!ENTRY org.eclipse.ui 4 4 2015-11-09 00:14:07.287
!MESSAGE Unable to create menu item "org.eclipse.ui.update.manageConfiguration", command "org.eclipse.ui.update.manageConfiguration" not defined

!ENTRY org.apache.log4j 2 0 2015-11-09 00:14:07.575
!MESSAGE org.eclipse.xtext.ui.shared.internal.Activator  - Disabling JDT use. : org/eclipse/jdt/core/JavaCore


!ENTRY org.apache.log4j 2 0 2015-11-09 00:14:07.730
!MESSAGE org.eclipse.xtext.ui.shared.internal.Activator  - Disabling JDT use. : org/eclipse/jdt/core/JavaCore


!ENTRY org.eclipse.ui 4 4 2015-11-09 00:14:22.154
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.S_DefinitionImpl@273aaab7 (key: null, firstFacet: null) (name: index)

!ENTRY org.eclipse.ui 4 4 2015-11-09 00:14:33.357
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.IntLiteralImpl@3de7ac5f (op: 10)

!ENTRY org.eclipse.ui 4 4 2015-11-09 00:14:40.750
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.S_ReflexImpl@6aeb5289 (key: reflex, firstFacet: null) (name: doomsday)
!SESSION 2015-11-09 19:54:46.764 -----------------------------------------------
eclipse.buildId=unknown
java.version=1.8.0_60
java.vendor=Oracle Corporation
BootLoader constants: OS=win32, ARCH=x86_64, WS=win32, NL=${target.nl}
Command-line arguments:  -os win32 -ws win32 -arch x86_64 -data @noDefault

!ENTRY org.eclipse.ui 4 4 2015-11-09 19:54:58.671
!MESSAGE Unable to create menu item "org.eclipse.ui.update.findAndInstallUpdates", command "org.eclipse.ui.update.findAndInstallUpdates" not defined

!ENTRY org.eclipse.ui 4 4 2015-11-09 19:54:58.718
!MESSAGE Unable to create menu item "org.eclipse.ui.update.manageConfiguration", command "org.eclipse.ui.update.manageConfiguration" not defined

!ENTRY org.apache.log4j 2 0 2015-11-09 19:54:59.936
!MESSAGE org.eclipse.xtext.ui.shared.internal.Activator  - Disabling JDT use. : org/eclipse/jdt/core/JavaCore


!ENTRY org.apache.log4j 2 0 2015-11-09 19:55:00.452
!MESSAGE org.eclipse.xtext.ui.shared.internal.Activator  - Disabling JDT use. : org/eclipse/jdt/core/JavaCore


!ENTRY org.eclipse.ui 4 4 2015-11-09 19:57:03.893
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.VariableRefImpl@20e2b4cf (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 19:57:21.863
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.BlockImpl@55becb8b

!ENTRY org.eclipse.ui 4 4 2015-11-09 19:57:25.746
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.VariableRefImpl@6d70a6f6 (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 19:57:34.935
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.BlockImpl@1ba9aba0

!ENTRY org.eclipse.ui 4 4 2015-11-09 19:57:37.917
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.S_IfImpl@70829783 (key: if, firstFacet: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 19:57:50.181
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.VariableRefImpl@16d22b78 (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 19:58:22.053
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 19:58:33.305
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.ModelImpl@2e813065 (name: Model_5)

!ENTRY org.eclipse.ui 4 4 2015-11-09 19:58:35.261
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 19:58:46.351
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.S_GlobalImpl@35536760 (key: global, firstFacet: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 19:59:51.386
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.speciesOrGridDisplayStatementImpl@1d7b5a8f (key: species, firstFacet: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 19:59:58.790
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.StatementImpl@3802ddfc (key: ask, firstFacet: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:00:01.716
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.StatementImpl@3802ddfc (key: ask, firstFacet: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:00:05.483
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.StatementImpl@20fe296c (key: ask, firstFacet: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:00:15.350
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.StatementImpl@1b3f1159 (key: ask, firstFacet: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:00:17.133
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.VariableRefImpl@70d27436 (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:00:45.447
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.VariableRefImpl@163dd79c (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:00:46.713
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.BlockImpl@23fc0a5b

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:00:59.975
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.VariableRefImpl@29c07b0a (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:01:06.201
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.ReservedLiteralImpl@f1b7153 (op: each)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:01:42.620
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.FunctionImpl@10cdd10a (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:01:48.428
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.VariableRefImpl@5866612c (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:01:51.741
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.VariableRefImpl@34b3db16 (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:02:04.446
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.AccessImpl@13b02298 (op: [)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:02:12.587
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:02:13.980
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:02:15.466
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:02:18.332
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:02:20.029
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:02:22.138
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:02:24.575
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:02:28.717
!MESSAGE Infinite recursion detected in completion proposal for org.eclipse.xtext.impl.GroupImpl@1b120d48 (cardinality: *, predicated: false)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:02:31.635
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:02:33.401
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:02:34.033
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:02:36.043
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:02:36.841
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:02:42.490
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.FunctionImpl@1b8e0288 (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:02:51.528
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:02:54.228
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.VariableRefImpl@7eb6a896 (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:03:04.359
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.VariableRefImpl@63f2b169 (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:03:11.491
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:03:19.430
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.VariableRefImpl@10dcbd29 (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:03:27.947
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.ReservedLiteralImpl@161925a1 (op: each)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:03:29.506
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.VariableRefImpl@2694629e (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:03:31.116
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.StatementImpl@2cbcbb12 (key: ask, firstFacet: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:04:07.762
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.VariableRefImpl@58db22f0 (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:04:44.476
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.VariableRefImpl@7bcf1121 (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:04:48.091
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:04:50.868
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.S_DirectAssignmentImpl@5834fd3f (key: <-, firstFacet: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:04:52.679
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:04:54.282
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:04:55.415
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:04:57.860
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:05:23.898
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.VariableRefImpl@7e1dc36 (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:05:29.506
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.AccessImpl@1162bd74 (op: [)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:05:31.224
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.ArrayImpl@3703274e (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:05:33.384
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.AccessImpl@1119cfbf (op: [)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:05:34.679
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.AccessImpl@1119cfbf (op: [)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:05:40.193
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.AccessImpl@1162bd74 (op: [)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:05:48.714
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:06:07.370
!MESSAGE ERROR: Cannot find icon prefs.workspace

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:08:41.017
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:08:43.563
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:08:44.590
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:08:50.645
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:08:53.193
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:08:53.800
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:08:54.624
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:08:55.481
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:09:05.069
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:09:06.850
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:09:09.241
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:09:10.490
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:09:15.474
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:09:22.260
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.BlockImpl@3d452f2e

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:09:34.084
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.BlockImpl@4556cd52

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:09:35.293
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.BlockImpl@61bf0710

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:09:39.699
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:09:40.736
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:09:43.103
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:09:44.184
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:10:04.116
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.FunctionImpl@30c565b5 (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:10:05.258
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.VariableRefImpl@25c866b0 (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:10:10.459
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.VariableRefImpl@7e12029d (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:10:17.729
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.FunctionImpl@30c565b5 (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:11:03.602
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.BlockImpl@1da5c24b

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:11:32.539
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:11:33.838
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.StatementImpl@411cf223 (key: ask, firstFacet: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:11:36.965
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:11:50.399
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.FunctionImpl@4d589f12 (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:12:48.605
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.VariableRefImpl@43d70c7a (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:12:51.760
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.S_ActionImpl@49a2d252 (key: action, firstFacet: null) (name: acquire_new_targets)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:12:53.105
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.VariableRefImpl@627595e9 (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:12:54.648
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.S_ActionImpl@49a2d252 (key: action, firstFacet: null) (name: acquire_new_targets)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:13:25.148
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.BlockImpl@df7ccec

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:13:26.227
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:13:27.295
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:13:28.037
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:13:30.893
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:13:38.162
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:13:39.203
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:13:40.897
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:13:43.561
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:13:47.389
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:13:48.561
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:13:58.782
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:14:02.012
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:14:04.072
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:14:06.308
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.VariableRefImpl@4140ca35 (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:14:08.452
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:14:09.616
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:14:11.285
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:14:12.131
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:14:18.585
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:14:24.399
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:14:28.341
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:14:29.585
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:14:32.960
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.S_DirectAssignmentImpl@5631a2f4 (key: <-, firstFacet: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:14:41.024
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:14:44.162
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:14:45.154
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:14:46.363
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:14:47.914
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:14:56.227
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.ExpressionListImpl@302b47a8 (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:14:59.180
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.VariableRefImpl@1b920470 (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:15:01.601
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.VariableRefImpl@2492771f (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:15:08.406
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.BlockImpl@5376de61

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:15:08.494
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:15:09.677
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:15:10.841
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:15:12.898
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.VariableRefImpl@30d2481c (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:15:14.469
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:15:16.719
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.S_DirectAssignmentImpl@2b348eb7 (key: <-, firstFacet: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:15:16.871
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:15:23.084
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.VariableRefImpl@45a48d76 (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:15:24.070
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.ExpressionImpl@54483ce0 (op: =)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:15:29.445
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:15:30.621
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:15:32.437
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:15:33.708
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:15:37.102
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:15:40.398
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.VariableRefImpl@57778e5d (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:15:43.897
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.BinaryImpl@c7431b1 (op: where)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:15:50.737
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:15:52.088
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:15:59.960
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.BlockImpl@62ad27bc

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:16:01.962
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:16:02.966
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:16:05.532
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:16:06.637
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:16:08.309
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:16:10.159
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:16:12.362
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:16:13.949
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:16:15.530
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:16:16.369
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:16:18.368
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:16:19.371
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:16:20.658
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:16:23.281
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:16:27.870
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.FunctionImpl@3bb96f0e (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:18:23.072
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.ArgumentPairImpl@5142f594 (op: type:)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:21:38.387
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.IntLiteralImpl@77b5086b (op: 100)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:21:39.604
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.ExpressionListImpl@78e852d (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:21:47.606
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:21:48.826
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:21:58.532
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:22:10.083
!MESSAGE Perspective msi.gama.application.perspectives.SimulationPerspective open 

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:23:23.735
!MESSAGE Perspective msi.gama.application.perspectives.ModelingPerspective open 

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:23:43.645
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.S_LoopImpl@47babc1e (key: loop, firstFacet: null) (name: macro_fascia3)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:24:02.372
!MESSAGE Perspective msi.gama.application.perspectives.SimulationPerspective open 

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:24:12.591
!MESSAGE Perspective msi.gama.application.perspectives.ModelingPerspective open 

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:24:15.117
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.StatementImpl@7341a90f (key: create, firstFacet: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:25:17.476
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:25:22.061
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:25:27.172
!MESSAGE Perspective msi.gama.application.perspectives.SimulationPerspective open 

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:26:02.110
!MESSAGE Perspective msi.gama.application.perspectives.ModelingPerspective open 

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:27:04.551
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.TypeInfoImpl@72c8ab66

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:30:59.681
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.S_LoopImpl@3d3e112f (key: loop, firstFacet: null) (name: macro_fascia2)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:31:06.344
!MESSAGE Perspective msi.gama.application.perspectives.SimulationPerspective open 

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:35:50.546
!MESSAGE Perspective msi.gama.application.perspectives.ModelingPerspective open 

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:35:59.256
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.FunctionImpl@6fd768ea (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:36:19.208
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.StatementImpl@1b3b28fb (key: ask, firstFacet: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:36:32.707
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.S_LoopImpl@2165828d (key: loop, firstFacet: null) (name: macro_fascia3)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:36:41.353
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.StatementImpl@7e7cf5b5 (key: ask, firstFacet: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:37:12.695
!MESSAGE Perspective msi.gama.application.perspectives.SimulationPerspective open 

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:38:43.243
!MESSAGE Perspective msi.gama.application.perspectives.ModelingPerspective open 

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:38:50.818
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.S_LoopImpl@ff8ae (key: loop, firstFacet: null) (name: fermate)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:39:05.084
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.VariableRefImpl@5f11fb32 (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:39:15.272
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.VariableRefImpl@1e718711 (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:39:44.819
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.VariableRefImpl@80d0598 (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:39:46.522
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.VariableRefImpl@59957fed (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:39:47.833
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.S_LoopImpl@468d7588 (key: loop, firstFacet: null) (name: wedge2)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:39:57.737
!MESSAGE Perspective msi.gama.application.perspectives.SimulationPerspective open 

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:40:12.527
!MESSAGE Perspective msi.gama.application.perspectives.ModelingPerspective open 

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:40:17.842
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:40:19.600
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:40:26.219
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:40:33.593
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:40:37.614
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.AccessImpl@2976f26a (op: [)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:40:41.020
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.ArrayImpl@6b8b551b (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:40:42.442
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.ReservedLiteralImpl@386e1df3 (op: each)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:41:02.884
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.ExpressionImpl@75df1552 (op: -)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:41:05.397
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.ArrayImpl@7989efe2 (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:41:29.007
!MESSAGE Perspective msi.gama.application.perspectives.SimulationPerspective open 

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:41:43.736
!MESSAGE Perspective msi.gama.application.perspectives.ModelingPerspective open 

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:41:45.424
!MESSAGE Perspective msi.gama.application.perspectives.SimulationPerspective open 

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:42:22.312
!MESSAGE Perspective msi.gama.application.perspectives.ModelingPerspective open 

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:42:31.347
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.ReservedLiteralImpl@b5adb68 (op: each)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:42:33.439
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.VariableRefImpl@6271c1e8 (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:44:47.849
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.BinaryImpl@74d20889 (op: sort_by)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:44:50.465
!MESSAGE Perspective msi.gama.application.perspectives.SimulationPerspective open 

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:45:54.272
!MESSAGE Perspective msi.gama.application.perspectives.ModelingPerspective open 

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:47:59.104
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.StringLiteralImpl@1295cb8b (op: ./exports/05_11/)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:49:32.896
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.ReservedLiteralImpl@795583dd (op: each)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:49:45.552
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.VariableRefImpl@2d9c3aed (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:49:59.724
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.S_LoopImpl@1da14afb (key: loop, firstFacet: null) (name: j)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:50:03.600
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.StatementImpl@12f922f2 (key: ask, firstFacet: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:50:18.927
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.BlockImpl@823a1f0

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:50:34.607
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:50:36.458
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:50:39.193
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:50:39.546
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:50:40.562
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:50:41.100
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:50:44.782
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:50:46.870
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:50:48.528
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:50:48.796
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:50:50.753
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:51:08.489
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.VariableRefImpl@95fa142 (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:51:11.757
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.VariableRefImpl@95fa142 (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:51:51.772
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.S_ActionImpl@56995267 (key: action, firstFacet: null) (name: crea_agente_smith)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:52:07.209
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.DoubleLiteralImpl@1cefcb04 (op: 146000.0)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:52:10.144
!MESSAGE Perspective msi.gama.application.perspectives.SimulationPerspective open 

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:52:32.244
!MESSAGE Perspective msi.gama.application.perspectives.ModelingPerspective open 

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:52:34.161
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.S_DefinitionImpl@14094dcf (key: null, firstFacet: null) (name: ticket)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:52:47.914
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.VariableRefImpl@7b5c245c (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:52:52.353
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.VariableRefImpl@5878ce35 (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:53:45.521
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.S_DoImpl@3c5c0bd3 (key: do, firstFacet: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:53:52.616
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.S_ReflexImpl@71fe39bc (key: reflex, firstFacet: null) (name: doomsday)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:53:53.895
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.S_ReflexImpl@71fe39bc (key: reflex, firstFacet: null) (name: doomsday)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:53:55.473
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.VariableRefImpl@15e5e7d0 (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:55:21.569
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.ReservedLiteralImpl@552d268a (op: each)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:55:50.614
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.DoubleLiteralImpl@3a3b32e7 (op: 146000.0)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:55:54.617
!MESSAGE Perspective msi.gama.application.perspectives.SimulationPerspective open 

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:57:38.611
!MESSAGE Perspective msi.gama.application.perspectives.ModelingPerspective open 

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:57:48.345
!MESSAGE Perspective msi.gama.application.perspectives.SimulationPerspective open 

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:58:11.881
!MESSAGE Perspective msi.gama.application.perspectives.ModelingPerspective open 

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:58:12.755
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.TypeRefImpl@69b13596 (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:58:12.758
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.S_DefinitionImpl@1e32a5a2 (key: null, firstFacet: null) (name: morosi)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:58:13.412
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.TypeRefImpl@69b13596 (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:58:13.415
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.S_DefinitionImpl@1e32a5a2 (key: null, firstFacet: null) (name: morosi)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:58:32.680
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.S_DoImpl@66157956 (key: do, firstFacet: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:58:32.718
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:58:32.856
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:59:10.180
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.BooleanLiteralImpl@60ba91b7 (op: false)

!ENTRY org.eclipse.ui 4 4 2015-11-09 20:59:15.659
!MESSAGE Perspective msi.gama.application.perspectives.SimulationPerspective open 

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:00:07.982
!MESSAGE Perspective msi.gama.application.perspectives.ModelingPerspective open 

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:00:32.869
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.FunctionImpl@4e1a2de0 (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:03:40.038
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.DoubleLiteralImpl@7cc1f03c (op: 300.0)

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:03:42.850
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.FacetImpl@44a255c7 (name: null) (key: <-)

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:07:07.979
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:08:36.710
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.S_DirectAssignmentImpl@61cd7bfc (key: <-, firstFacet: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:08:38.735
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:08:39.010
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:08:41.161
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:08:43.221
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:08:48.223
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:08:49.352
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:08:50.371
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:08:51.501
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:08:55.772
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.StatementImpl@116d2d89 (key: write, firstFacet: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:09:08.994
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.StringLiteralImpl@34b35522 (op: halting)

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:09:20.303
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.DoubleLiteralImpl@7c141cf8 (op: 146000.0)

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:26:11.416
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:26:12.524
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:26:13.792
!MESSAGE Infinite recursion detected in completion proposal for org.eclipse.xtext.impl.AlternativesImpl@1a53ac0c (cardinality: null, predicated: false)

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:26:13.806
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:26:14.439
!MESSAGE Infinite recursion detected in completion proposal for org.eclipse.xtext.impl.AlternativesImpl@2f8ab988 (cardinality: null, predicated: false)

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:26:16.160
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:26:18.883
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:26:20.840
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:26:21.521
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:26:27.208
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.DoubleLiteralImpl@1453565f (op: 100.0)

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:26:31.038
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.DoubleLiteralImpl@1453565f (op: 100.0)

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:26:54.387
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.VariableRefImpl@460b88d2 (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:26:57.021
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.VariableRefImpl@21c1502f (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:26:58.057
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.VariableRefImpl@21c1502f (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:26:58.522
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.VariableRefImpl@21c1502f (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:27:06.571
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.VariableRefImpl@36e81d77 (op: null)

!ENTRY org.apache.log4j 4 0 2015-11-09 21:27:22.520
!MESSAGE org.eclipse.xtext.ui.editor.model.DocumentPartitioner  - Detected unexpected state in document partitioner. Please file a bug with the following information attached:
Document content after the event was applied:
>>>/**
 *  Model_5.1
 *  Author: Alessandro
 *  Description: 
 */

model Model51

/* Insert your model definition here */
global
{
	file shape_file_cinema <- file("../includes/ridottissimo/cinema_geo.shp");
	file shape_file_sport_center <- file("../includes/ridottissimo/impianti_sportivi_geo.shp");
	file shape_file_museum <- file("../includes/ridottissimo/musei_geo.shp");
	file shape_file_hospital <- file("../includes/ridottissimo/ospedali_geo.shp");
	file shape_file_school <- file("../includes/ridottissimo/scuole2.shp");
	file shape_file_ASL <- file("../includes/ridottissimo/sedi_asl_geo2.shp");
	file shape_file_university <- file("../includes/ridottissimo/universita_geo.shp");
	file shape_file_theater <- file("../includes/ridottissimo/teatri_geo.shp");
	file shape_file_stops <- file("../includes/ridottissimo/transport_points_4.shp");

	file csv_edges_list <- csv_file("../includes/ultimate_edges_list_ext_noint.csv", ",");
	matrix edge_list_matrix <- matrix(csv_edges_list); //utile per il ciclo di assegnazione

	file csv_orario <- csv_file("../includes/orari.csv", ",");
	matrix<int> orario <- matrix<int> (csv_orario);

	file csv_affinity <- csv_file("../includes/affinity.csv", ",");
	matrix<float> affinity <- matrix<float> (csv_affinity);

	file csv_mobility <- csv_file("../includes/mobility3.csv", ",");
	matrix<float> mobility <- matrix<float> (csv_mobility);

	file csv_raggiungibile <- csv_file("../includes/ridottissimo/raggiungibili.csv", ",");
	matrix<int> raggiungibili <- matrix<int> (csv_raggiungibile);

	file csv_pesi <- csv_file("../includes/ridottissimo/pesi.csv", ";");
	matrix<int> Pesi <- matrix<int> (csv_pesi);

	file csv_betweenness <- csv_file("../includes/ridottissimo/betweenness.csv", ",");
	matrix<float> bwn <- matrix<float> (csv_betweenness);

	graph grafo;
	int fascia_oraria update: int(time / 4) mod 10;
	int macro_fascia update: int(time / 10) mod 4;
	int day update: int(time / 40) + 1;
	int multa;
//	bool salva <- true update:(time < 2000?((time mod 150 =0)? true:false):((time mod 800 =0)? true:false));
	int n_controllori;
	int n_passenger<-15000;
	float ticket;
	float dimenticanza <- 0.9862327;
	float dimenticanza2 <- 0.9986;
	float abbonamento;
	float betw_max;
	float scala;
	int index <- 0;
	float reset_time <- 146000.0;
	list<bus_stop> active_stops;
	string salvataggio <- "./exports/09_11/";
	reflex doomsday when: time = reset_time
	{
		index <- index +1;
		ask wedge
		{
			penality <- 1.0;
			avg_penality <- list_with(4, 1.0);
			score<-0.0;
			avg_score <- list_with(4, 0.0);
		}
		ask passenger
		{
			flag_abbonamento <- false;
			avg_risk <- 0.0;
			num_viaggi <- 0.0;
//			avg_risk_balance <- 0.0;
			viaggi <- 0.0 as_matrix ({ 5, 3 });
			risk <- 0.0 as_matrix ({ 5, 3 });
			titolo_viaggio<-0;
		}
		ask GTKIRA
		{
			target_list <- list_with(4, n_controllori among wedge);
			utility <- 0.0;
			total_risk <- 0.0;
		}
		ask Smith
		{
			score <- list_with(4, 0);
			loop macro_fascia2 from: 0 to: 3
			{
				do acquire_new_targets(macro_fascia2, true);
			}
		}
		write "reset_globale";
		time <- 0.0;
		seed <- 100;
	}
	reflex shouldHalt when: cycle = 10*reset_time
	{
		write "halting";
    	do halt;
	}
	init
	{
		//write fit_abbonamento;
		seed <- 100.0;
		index<-0;
		n_controllori <- 4;
		multa <- 50;
		fascia_oraria <- 0;
		ticket <- 1.5;
		abbonamento <- 40.0;
		scala <- 29782 / n_passenger; //RIDOTTISSIMO 56239 RIDOTTO 320000
		create building from: shape_file_cinema with: [type:: 0, id::int(read("ID_CINEMA")) - 1, location::{ float(read("XCOORD")) / 100, float(read("YCOORD")) / 100, 0 }];
		create building from: shape_file_sport_center with: [type:: 1, id::int(read("ID_R_IMP_T")) + 47, location::{ float(read("XCOORD")) / 100, float(read("YCOORD")) / 100, 0 }];
		create building from: shape_file_museum with: [type:: 2, id::int(read("ID_TIPOPTO")) + 749, location::{ float(read("XCOORD")) / 100, float(read("YCOORD")) / 100, 0 }];
		create building from: shape_file_hospital with: [type:: 3, id::int(read("ID_OSPEDAL")) + 834, location::{ float(read("XCOORD")) / 100, float(read("YCOORD")) / 100, 0 }];
		create building from: shape_file_school with: [type:: 4, id::int(read("ID_PT_INGR")) + 796, location::{ float(read("XCOORD")) / 100, float(read("YCOORD")) / 100, 0 }];
		create building from: shape_file_ASL with: [type:: 5, id::int(read("ID_ASL")) + 1493, location::{ float(read("XCOORD")) / 100, float(read("YCOORD")) / 100, 0 }];
		create building from: shape_file_university with: [type:: 6, id::int(read("ID_UNIVERS")) + 1504, location::{ float(read("XCOORD")) / 100, float(read("YCOORD")) / 100, 0 }];
		create building from: shape_file_theater with: [type:: 7, id::int(read("ID_R_PUNTO")) + 1537, location::{ float(read("XCOORD")) / 100, float(read("YCOORD")) / 100, 0 }];
		create bus_stop from: shape_file_stops with: [code::int(read("ref")), location::{ float(read("XCOORD")) / 100 - 8460, float(read("YCOORD")) / 100 - 56300, 0
		}, fattore_scelta::list_with(6, 0.0)];
		write "bus_stop creati";
		create passenger number: n_passenger
		{
			bus_stop locazione <- one_of(bus_stop);
			the_target <- one_of(bus_stop);
			location <- locazione.location;
			fermata <- locazione;
			type <- rnd(5);
			risk <- 0.00 as_matrix ({ 5, 3 }); //colonne:saturation_index, righe:betweenness
			avg_mobility <- mean(list<float> (rows_list(mobility)[type]));
		}

		write "passenger creati";
		loop j from: 0 to: length(rows_list(edge_list_matrix)) - 1
		{
//			int arrivo2 <- int(edge_list_matrix[1, j]);
//			int partenza2 <- int(edge_list_matrix[0, j]);
			if ((bus_stop where (each.code = int(edge_list_matrix[0, j]))) != [] and (bus_stop where (each.code = int(edge_list_matrix[1, j]))) != [])
			{
				create wedge
				{
					arrivo <- (bus_stop where (each.code = int(edge_list_matrix[1, j])))[0];
					partenza <- (bus_stop where (each.code = int(edge_list_matrix[0, j])))[0];
					peso <- (int(edge_list_matrix[2, j]));
					shape <- line([partenza.location, arrivo.location],0.15);
					popolazione_old <- rnd(30);
				}

			}

		}

		write "wedge creati";
		grafo <- directed(as_edge_graph(wedge));
		ask wedge
		{
			do set_betweenness;
		}

		write "inizializzazione variabili bus_stop";
		betw_max <- max(wedge collect each.btw);

		// set_appeal_matrix lo faccio qui e non nell'init della specie perchè alla fine dell'init cancello 
		ask bus_stop
		{
			do set_appeal_matrix;
		}

		write "inizio raggiungibili";
		ask bus_stop
		{
			do set_raggiungibili;
			do trova_vicini_geografici;
			do trova_out_edges;
			list_raggiungibili <- list_raggiungibili - [0];
			stop_raggiungibili <- bus_stop where (each.code in list_raggiungibili); //assegnazione reale
			list_raggiungibili <- nil;
		} //se scommenti questa ricorda di andare a rimuovere l'if nel reflex movimento, ogni fermata nella lista allora sarà raggiungibile
		write "removing duplicates";
		write "fine raggiugibili";
		Pesi <- nil;
		raggiungibili <- nil;
		edge_list_matrix <- nil;
		create GTKIRA;
		active_stops <- bus_stop where(each.stop_raggiungibili != [each]);
	}
}

species building
{
	int id;
	int type;
	aspect base
	{
		draw square(2) color: # red;
	}

}

species bus_stop
{

	int code; //codice fermata
	int popolazione_old update: popolazione;
	int popolazione;
	list<wedge> out_edges;
	list<bus_stop> vicini_geo;
	list<int> list_raggiungibili;
	list<bus_stop> stop_raggiungibili;
	list<float> fattore_scelta; //exp (-popolazione/proiezione) per ogni tipo di utente (lista 6 float)
	matrix<int> appeal_matrix <- 0 as_matrix ({ 10, 6 }); //Matrice di contenimento dei pesi definiti da fascia e utente
	action set_raggiungibili
	{
		self.list_raggiungibili <- list<int> (rows_list(raggiungibili) first_with (each[0] = self.code));
	}

	action trova_out_edges
	{
		out_edges <- (wedge where (each.partenza = self));
	}

	action trova_vicini_geografici
	{
		vicini_geo <- bus_stop where (each distance_to self < 2.5);
	}

	action set_appeal_matrix
	{
		int riga <- int(columns_list(Pesi)[0] first_with (each = self.code));
		loop colonna from: 1 to: 10
		{
			loop riga_int from: 1 to: 6
			{
				self.appeal_matrix[colonna - 1, riga_int - 1] <- Pesi[colonna, riga + riga_int];
			}

		}

	}

	reflex update_fattore_scelta
	{
	//ho creato un vettore con exp (-popolazione/proiezione[tipo, ora] per ogni tipo)
		fattore_scelta <- columns_list(appeal_matrix)[fascia_oraria] collect (exp(-popolazione_old / (int((each)) + 0.00001)) + 0.0001);
		popolazione <- 0;
	}

	aspect base
	{
		draw square(1.5) color: # pink;
	}

}

species wedge
{
	init
	{
		fascia_btwn <- min([2,int(self.btw * 3 / betw_max)]);
	}

	int popolazione_old update: popolazione; //eseguito prima del riflesso: il valore di popolazione viene salvato qui//**new
	int popolazione; //agenti che viaggiano sull'edge. Posto a 0 ogni inizio turno dal reflex (così viene posto a 0 dopo che popolazione_old copia il valore)
	bus_stop partenza;
	bus_stop arrivo;
	float penality <- 1.0 update: 1.0;
	list<float> avg_penality <- list_with(4, 1.0);
	float btw;
	int fascia_btwn max:4;
	float score;
	list<float> avg_score <- list_with(4, 0.0);
	int peso;
	int saturation_index max:4; // update: min([3,int(48*popolazione/25*peso)]);											
	aspect base
	{
		draw shape color:(penality=1.0? #black:#red);
	}

	reflex update_variables
	{
		saturation_index <- int(floor(48*4*(scala/100)) * (self.popolazione_old / self.peso)); //vale per ridottissimo
		score <- (btw / betw_max) ^ (1.0 / 3.0) * popolazione_old / (exp(2.131 * saturation_index) + 1);
		popolazione <- 0;
		avg_score[macro_fascia] <- avg_score[macro_fascia] + score / 70;
		//lo score medio viene valutato ogni 280 step, quindi aggiungo lo score già diviso per 280
	}

	action set_betweenness
	{ //se la trovalasua
		self.btw <- float((rows_list(bwn) where ((each[0]) = float(wedge index_of self)))[0][1]);
	}

}

species passenger skills: [moving]
{
	bus_stop the_target;
	bus_stop fermata;
	bool flag_abbonamento <- false;
	bool flag_movimento <- false update: false;
	float avg_risk <- 0.0;
//	float avg_risk_balance <- 0.0 update:0.0;//misura di quanto è cambiato il rischio medio nell'ultimo turno				**NEW
	float avg_mobility;
	float num_viaggi <- 0.0;
	matrix<float> viaggi <- 0.0 as_matrix ({ 5, 3 });	
	matrix<float> risk;
	int type;
	int titolo_viaggio min: 0 update: titolo_viaggio - 1;
	int travel_mode update: 3; // 0-> viaggio alternativo; 1 -> viaggio senza ticket; 2-> viaggio con ticket; 3 -> il flip (mobility) ha dato croce)
	path percorso <- path(0) update: path(0); //ogni inizio turno il percorso va azzerato!

	reflex decisione_abbonamento when: (every(40) and titolo_viaggio < 40) //**new
	{
		if (1200*self.avg_mobility*min([(self.avg_risk/max([1,self.num_viaggi]))*multa,ticket]) > abbonamento) //AGGIUNGERE GAUSSIANA
		{
			titolo_viaggio <- 1200;
			GTKIRA[0].utility <- GTKIRA[0].utility + abbonamento; //utility i soldi
			flag_abbonamento <- true;
		} 
		else
		{
			flag_abbonamento <- false;
		}

	}
	//40% in più della tua mobility che tu ti muova
	reflex movimento when: flip((1 + 0.4 * signum(titolo_viaggio)) * mobility[fascia_oraria, type])
	{
		flag_movimento <- true;
		if fermata = bus_stop[147] or bus_stop[431] or bus_stop[430] or bus_stop[285] or bus_stop[143] or bus_stop[406]
		{
			fermata <- any(bus_stop);
			location <- fermata.location;
		}

		fermata <- (fermata.vicini_geo)[rnd_choice(fermata.vicini_geo collect each.fattore_scelta[type])]; //scelta fermata tra i vicini
		if (fermata in active_stops)
		{
			the_target <- (fermata.stop_raggiungibili-fermata)[rnd_choice((fermata.stop_raggiungibili - fermata) collect each.fattore_scelta[type])]; //scelta meta viaggio
		}
		else
		{
//			write "inactive";
			fermata <- any(active_stops);
			the_target <- (fermata.stop_raggiungibili-fermata)[rnd_choice((fermata.stop_raggiungibili - fermata) collect each.fattore_scelta[type])];
		}
		percorso <- path_between(grafo, fermata.location, the_target.location);
		  //1 - prob che non ti controlli nessuno
		float risk_max <- 1 - mul(list<wedge> (percorso.edges) collect (1 - (risk[each.saturation_index, each.fascia_btwn] / (max([1,viaggi[each.saturation_index, each.fascia_btwn]])))));
/*NEW */float avg_risk_old <- avg_risk/max([1,num_viaggi]); //occhio: è già diviso per numero viaggi				   **NEW
		avg_risk <- dimenticanza * avg_risk + risk_max;
		num_viaggi <- num_viaggi * dimenticanza + 1;
/*NEW *///avg_risk_balance <- avg_risk/num_viaggi - avg_risk_old; //positivo: rischio medio aumentato, negativo: rischio diminuito
		list<float> utility <- list_with(3, 0.0);
		utility[0] <- exp(-length(percorso.edges)); //NV
		utility[1] <- 1 - exp(-length(percorso.edges) / (risk_max * multa + 0.001)); //VST
		utility[2] <- 1 - exp(-length(percorso.edges) / ticket) + self.titolo_viaggio; //VCT <- aggiungere bonus abbonamento?
		travel_mode <- utility index_of (max(utility)); //l'utility massima viene assegnata a travel_mode
		
		if (travel_mode = 2 and titolo_viaggio = 0)
		{
			self.titolo_viaggio <- 3;
			GTKIRA[0].utility <- GTKIRA[0].utility + ticket;
		}
		if (travel_mode != 0)
		{
			ask list<wedge> (percorso.edges)
			{
				popolazione <- popolazione + 1;
			}
				loop edgesi over: percorso.edges
				{
					risk[wedge(edgesi).saturation_index, wedge(edgesi).fascia_btwn] <- dimenticanza2 * risk[wedge(edgesi).saturation_index, wedge(edgesi).fascia_btwn];
					viaggi[wedge(edgesi).saturation_index, wedge(edgesi).fascia_btwn] <- dimenticanza2 * viaggi[wedge(edgesi).saturation_index, wedge(edgesi).fascia_btwn] + 1;
				}
			}

			fermata <- the_target;
			location <- fermata.location;
			fermata.popolazione <- fermata.popolazione + 1;
	}
	aspect base
	{
		if (travel_mode != 3)
		{
			draw sphere(0.75) color: travel_mode != 1 ? # yellow : # tan;
		}

	}

}

species GTKIRA
{
	list<list<wedge>> target_list <- list_with(4, n_controllori among wedge);
	float utility;
	float total_risk <- 0.0 update: sum(passenger collect (each.avg_risk/max([each.num_viaggi,1]))); 					   //NEW!
//	float risk_balance <- 0.0 update: risk_balance + sum(passenger collect each.avg_risk_balance);
	action update_target_list(int macro_fascia1)
	{
			target_list[macro_fascia1] <- copy_between(wedge sort_by (-each.avg_score[macro_fascia1]*each.avg_penality[macro_fascia1]), 0, 10 * n_controllori);
	}

	reflex creation when: time = 0 and index =0
	{
		write "controllori creati";
		create Smith number: n_controllori;
	}
	
	reflex evaluation when: every(280)
	{
		utility <- utility - n_controllori * 625;
	 //considerando un costo mensile di 2500€ a controllore, la GTT versa 625€ a controllore a settimana
		save
		[
			time,
			length(passenger where (each.travel_mode = 2)) * 100 / max([1,(length(passenger where(each.flag_movimento = true)))]), 
			length(passenger where (each.travel_mode = 1)) * 100 / max([1,(length(passenger where(each.flag_movimento = true)))]), 
			length(passenger where (each.travel_mode = 0)) * 100 / max([1,(length(passenger where(each.flag_movimento = true)))]),
			length(passenger where (each.flag_movimento = true)) * 100 / n_passenger,
			total_risk
		]
		 to:(salvataggio +"ticket_trend_b_"+  n_passenger +"_"+index + ".csv") type: "csv";
		ask wedge
		{
			penality <- 1.0;
			avg_penality <- avg_penality collect (each > 0.9 ? 1.0 : each + 0.1); //list_with(4, 1.0);
		}
		loop macro_fascia3 from: 0 to: 3
		//questo loop aggiunge penalità ai wedge controllati che non cambieranno e dà nuovi targets
		{
			ask Smith where (each.score[macro_fascia3] > mean(Smith collect each.score[macro_fascia3]))
			//bisogna che i target che non cambiano (quelli dei controllori migliori) conservino la penalità nello score! altrimenti si finirà per assegnare gli
			//stessi target ai controllori in settimane diverse. Questo ask chiede ai controllori migliori di aggiungere penalità ai wedge che loro controllavano
			//(e che continueranno a controllare)
			{
				ask wedge where (each = targets[macro_fascia3])
				{
					ask wedge at_distance 1.0
					{
						avg_penality[macro_fascia3] <- max([avg_penality[macro_fascia3] - 0.5, 0.0]);
					}

				}

			}
			//Muove smith scarsi
			ask Smith where (each.score[macro_fascia3] <= mean(Smith collect each.score[macro_fascia3]))
			{
				ask wedge where (each = targets[macro_fascia3]) //Aggiungo penalità ai wedge che hanno reso poco
				{
					avg_penality[macro_fascia3] <- max([avg_penality[macro_fascia3] - 0.5, 0.0]);
				}
				if flip(0.5)
				{
					do acquire_new_targets(macro_fascia3, true);
				} 
				else
				{
					do acquire_new_targets(macro_fascia3, false);
				}

			}
			do update_target_list(macro_fascia3);
		}

		ask Smith
		{
			score <- list_with(4, 0);
		}

		ask wedge
		{
			avg_score <- list_with(4, 0.0);
		}
	}

	action crea_agente_smith
	{
		create Smith;
	}

}

species Smith

{
	init
	{
		loop macro_fascia2 from: 0 to: 3
		{
			do acquire_new_targets(macro_fascia2, true);
		}
	}

	list<int> score <- list_with(4, 0);
	list<wedge> percorso;
	list<wedge> targets <- list_with(4, wedge(0));
	action acquire_new_targets (int a, bool random) //a è la macrofascia oraria per cui va acquisito il nuovo target 
	{
		if random = false {targets[a] <- GTKIRA[0].target_list[a][0];}
		else {targets[a] <- any(wedge where (each.avg_penality[a] = 1.0)); }
		ask targets[a]
		{
			avg_penality[a] <- max([avg_penality[a] - 0.9, 0.0]);
			ask wedge at_distance 1.0
			{
				avg_penality[a] <- max([avg_penality[a] - 0.5, 0.0]);
			}
		}
		ask GTKIRA[0]{do update_target_list(a);}
	}

	reflex turn_shift when: (cycle mod 10 = 0)
	{
		location <- targets[macro_fascia].location;
	}

	reflex movimento 

	{
		float path_score <- targets[macro_fascia].score;
		float path_score_max <- path_score;
		list<wedge> available <- [];
		loop fermate over: targets[macro_fascia].arrivo.vicini_geo
		{
			available <- available + fermate.out_edges;
		}

		loop wedge2 over: copy_between(available sort_by (-each.score * each.penality), 0, min([3, length(available)]))
		{
			path_score <- path_score + wedge2.score * wedge2.penality;
			list<wedge> available2 <- [];
			loop fermate over: wedge2.arrivo.vicini_geo
			{
				available2 <- available2 + fermate.out_edges;
			}

			loop wedge3 over: copy_between(available2 sort_by (-each.score * each.penality), 0, min([3, length(available2)]))
			{
				path_score <- path_score + wedge3.score * wedge3.penality;
				list<wedge> available3 <- [];
				loop fermate over: wedge3.arrivo.vicini_geo
				{
					available3 <- available3 + fermate.out_edges;
				}

				loop wedge4 over: copy_between(available3 sort_by (- each.score * each.penality), 0, min([3, length(available3)]))
				{
					path_score <- path_score + wedge4.score * wedge4.penality;
					list<wedge> available4 <- [];
					loop fermate over: wedge4.arrivo.vicini_geo
					{
						available4 <- available4 + fermate.out_edges;
					}

					loop wedge5 over: copy_between(available4 sort_by (- each.score * each.penality), 0, min([3, length(available4)]))
					{
						path_score <- path_score + wedge5.score * wedge5.penality;
						list<wedge> available5 <- [];
						loop fermate over: wedge5.arrivo.vicini_geo
						{
							available5 <- available5 + fermate.out_edges;
						}

						loop wedge6 over: copy_between(available5 sort_by (- each.score * each.penality), 0, min([3, length(available5)]))
						{
							path_score <- path_score + wedge6.score * wedge6.penality;
							list<wedge> available6 <- [];
							loop fermate over: wedge6.arrivo.vicini_geo
							{
								available6 <- available6 + fermate.out_edges;
							}

							loop wedge7 over: copy_between(available6 sort_by (- each.score * each.penality), 0, min([3, length(available6)]))
							{
								path_score <- path_score + wedge7.score * wedge7.penality;
								if (path_score > path_score_max)
								{
									percorso <- [targets[macro_fascia]] + [wedge2] + [wedge3] + [wedge4] + [wedge5] + [wedge6] + [wedge7];
									path_score_max <- path_score;
								}

							}

						}

					}

				}

			}

		}

		ask wedge where (each in self.percorso) //penalizzazione wedge già percorsi

		{
			self.penality <- 0.5 * self.penality;
		}

		ask GTKIRA[0] //riordino la lista di target dopo le penalizzazioni

		{
			self.target_list[macro_fascia] <- self.target_list[macro_fascia] sort_by (-each.avg_score[macro_fascia]);
		}

	}

	reflex verification
	{
		list<list<int>> morosi <- nil;
		loop edge over: percorso
		{//popolazione/peso sono gli agenti che erano su quell'edge. Peso va diviso per 2
			
			ask (int(48*edge.popolazione/edge.peso)) among passenger where (each.flag_movimento = true and edge in each.percorso.edges)
			{
				morosi <- morosi + (passenger where (each.flag_movimento = true and edge in each.percorso.edges and each.titolo_viaggio=0)) collect [int(each), int(edge)];
				self.risk[edge.saturation_index, edge.fascia_btwn] <- min([self.risk[edge.saturation_index, edge.fascia_btwn] + 1,self.viaggi[edge.saturation_index, edge.fascia_btwn]]);
			}
		}
		self.score[macro_fascia] <- self.score[macro_fascia] + multa*min([4,length(morosi)]);
		GTKIRA[0].utility <- GTKIRA[0].utility + multa*min([4,length(morosi)]);
		ask 4 among morosi collect (passenger[each[0]])
		{
			wedge edge <- wedge[(morosi first_with (each[0]=passenger index_of self))[1]];
			ask (3 among passenger)
			{
				self.risk[edge.saturation_index, edge.fascia_btwn] <- min([self.risk[edge.saturation_index, edge.fascia_btwn] + 0.5,self.viaggi[edge.saturation_index, edge.fascia_btwn]]);
				self.viaggi[edge.saturation_index, edge.fascia_btwn]<-1+ self.viaggi[edge.saturation_index, edge.fascia_btwn];
			}
			//self.risk[edge.saturation_index, edge.fascia_btwn] <- 1+self.risk[edge.saturation_index, edge.fascia_btwn];
			self.titolo_viaggio <- 3;
			self.travel_mode <- 2;
		}
	}

	aspect base
	{
		draw sphere(0.85) color: # green;
	}

}

experiment graphExp type: gui
{
	output
	{

		display graphView type: opengl
		{
//			species bus_stop aspect: base;
            species wedge aspect: base;
            species passenger aspect:base;
			species Smith aspect: base;
			//                  species building aspect:base;
		}
	    display chart refresh_every: 1 																					//NEW
	    {
			chart "Charles_the_chart" type: series background: rgb("lightGray") style: exploded 
			{
				data "Risk (magnified 10x)" value: 10*GTKIRA[0].total_risk/n_passenger color: rgb("red");
				data "Abbonati" value:length(passenger where (each.titolo_viaggio > 3))/ n_passenger  color: rgb("green");
			}
		}
	}

}
experiment stabilita type: batch repeat: 4 until: n_controllori >10 keep_seed: false {}

<<<
Document event: offset: 3090, length: 1, timestamp: 62
text:><



!ENTRY org.apache.log4j 4 0 2015-11-09 21:27:22.681
!MESSAGE org.eclipse.xtext.ui.editor.model.DocumentPartitioner  - Detected unexpected state in document partitioner. Please file a bug with the following information attached:
Document content after the event was applied:
>>>/**
 *  Model_5.1
 *  Author: Alessandro
 *  Description: 
 */

model Model51

/* Insert your model definition here */
global
{
	file shape_file_cinema <- file("../includes/ridottissimo/cinema_geo.shp");
	file shape_file_sport_center <- file("../includes/ridottissimo/impianti_sportivi_geo.shp");
	file shape_file_museum <- file("../includes/ridottissimo/musei_geo.shp");
	file shape_file_hospital <- file("../includes/ridottissimo/ospedali_geo.shp");
	file shape_file_school <- file("../includes/ridottissimo/scuole2.shp");
	file shape_file_ASL <- file("../includes/ridottissimo/sedi_asl_geo2.shp");
	file shape_file_university <- file("../includes/ridottissimo/universita_geo.shp");
	file shape_file_theater <- file("../includes/ridottissimo/teatri_geo.shp");
	file shape_file_stops <- file("../includes/ridottissimo/transport_points_4.shp");

	file csv_edges_list <- csv_file("../includes/ultimate_edges_list_ext_noint.csv", ",");
	matrix edge_list_matrix <- matrix(csv_edges_list); //utile per il ciclo di assegnazione

	file csv_orario <- csv_file("../includes/orari.csv", ",");
	matrix<int> orario <- matrix<int> (csv_orario);

	file csv_affinity <- csv_file("../includes/affinity.csv", ",");
	matrix<float> affinity <- matrix<float> (csv_affinity);

	file csv_mobility <- csv_file("../includes/mobility3.csv", ",");
	matrix<float> mobility <- matrix<float> (csv_mobility);

	file csv_raggiungibile <- csv_file("../includes/ridottissimo/raggiungibili.csv", ",");
	matrix<int> raggiungibili <- matrix<int> (csv_raggiungibile);

	file csv_pesi <- csv_file("../includes/ridottissimo/pesi.csv", ";");
	matrix<int> Pesi <- matrix<int> (csv_pesi);

	file csv_betweenness <- csv_file("../includes/ridottissimo/betweenness.csv", ",");
	matrix<float> bwn <- matrix<float> (csv_betweenness);

	graph grafo;
	int fascia_oraria update: int(time / 4) mod 10;
	int macro_fascia update: int(time / 10) mod 4;
	int day update: int(time / 40) + 1;
	int multa;
//	bool salva <- true update:(time < 2000?((time mod 150 =0)? true:false):((time mod 800 =0)? true:false));
	int n_controllori;
	int n_passenger<-15000;
	float ticket;
	float dimenticanza <- 0.9862327;
	float dimenticanza2 <- 0.9986;
	float abbonamento;
	float betw_max;
	float scala;
	int index <- 0;
	float reset_time <- 146000.0;
	list<bus_stop> active_stops;
	string salvataggio <- "./exports/09_11/";
	reflex doomsday when: time = reset_time
	{
		index <- index +1;
		ask wedge
		{
			penality <- 1.0;
			avg_penality <- list_with(4, 1.0);
			score<-0.0;
			avg_score <- list_with(4, 0.0);
		}
		ask passenger
		{
			flag_abbonamento <- false;
			avg_risk <- 0.0;
			num_viaggi <- 0.0;
//			avg_risk_balance <- 0.0;
			viaggi <- 0.0 as_matrix ({ 5, 3 });
			risk <- 0.0 as_matrix ({ 5, 3 });
			titolo_viaggio<-0;
		}
		ask GTKIRA
		{
			target_list <- list_with(4, n_controllori among wedge);
			utility <- 0.0;
			total_risk <- 0.0;
		}
		ask Smith
		{
			score <- list_with(4, 0);
			loop macro_fascia2 from: 0 to: 3
			{
				do acquire_new_targets(macro_fascia2, true);
			}
		}
		write "reset_globale";
		time <- 0.0;
		seed <- 10;
	}
	reflex shouldHalt when: cycle = 10*reset_time
	{
		write "halting";
    	do halt;
	}
	init
	{
		//write fit_abbonamento;
		seed <- 100.0;
		index<-0;
		n_controllori <- 4;
		multa <- 50;
		fascia_oraria <- 0;
		ticket <- 1.5;
		abbonamento <- 40.0;
		scala <- 29782 / n_passenger; //RIDOTTISSIMO 56239 RIDOTTO 320000
		create building from: shape_file_cinema with: [type:: 0, id::int(read("ID_CINEMA")) - 1, location::{ float(read("XCOORD")) / 100, float(read("YCOORD")) / 100, 0 }];
		create building from: shape_file_sport_center with: [type:: 1, id::int(read("ID_R_IMP_T")) + 47, location::{ float(read("XCOORD")) / 100, float(read("YCOORD")) / 100, 0 }];
		create building from: shape_file_museum with: [type:: 2, id::int(read("ID_TIPOPTO")) + 749, location::{ float(read("XCOORD")) / 100, float(read("YCOORD")) / 100, 0 }];
		create building from: shape_file_hospital with: [type:: 3, id::int(read("ID_OSPEDAL")) + 834, location::{ float(read("XCOORD")) / 100, float(read("YCOORD")) / 100, 0 }];
		create building from: shape_file_school with: [type:: 4, id::int(read("ID_PT_INGR")) + 796, location::{ float(read("XCOORD")) / 100, float(read("YCOORD")) / 100, 0 }];
		create building from: shape_file_ASL with: [type:: 5, id::int(read("ID_ASL")) + 1493, location::{ float(read("XCOORD")) / 100, float(read("YCOORD")) / 100, 0 }];
		create building from: shape_file_university with: [type:: 6, id::int(read("ID_UNIVERS")) + 1504, location::{ float(read("XCOORD")) / 100, float(read("YCOORD")) / 100, 0 }];
		create building from: shape_file_theater with: [type:: 7, id::int(read("ID_R_PUNTO")) + 1537, location::{ float(read("XCOORD")) / 100, float(read("YCOORD")) / 100, 0 }];
		create bus_stop from: shape_file_stops with: [code::int(read("ref")), location::{ float(read("XCOORD")) / 100 - 8460, float(read("YCOORD")) / 100 - 56300, 0
		}, fattore_scelta::list_with(6, 0.0)];
		write "bus_stop creati";
		create passenger number: n_passenger
		{
			bus_stop locazione <- one_of(bus_stop);
			the_target <- one_of(bus_stop);
			location <- locazione.location;
			fermata <- locazione;
			type <- rnd(5);
			risk <- 0.00 as_matrix ({ 5, 3 }); //colonne:saturation_index, righe:betweenness
			avg_mobility <- mean(list<float> (rows_list(mobility)[type]));
		}

		write "passenger creati";
		loop j from: 0 to: length(rows_list(edge_list_matrix)) - 1
		{
//			int arrivo2 <- int(edge_list_matrix[1, j]);
//			int partenza2 <- int(edge_list_matrix[0, j]);
			if ((bus_stop where (each.code = int(edge_list_matrix[0, j]))) != [] and (bus_stop where (each.code = int(edge_list_matrix[1, j]))) != [])
			{
				create wedge
				{
					arrivo <- (bus_stop where (each.code = int(edge_list_matrix[1, j])))[0];
					partenza <- (bus_stop where (each.code = int(edge_list_matrix[0, j])))[0];
					peso <- (int(edge_list_matrix[2, j]));
					shape <- line([partenza.location, arrivo.location],0.15);
					popolazione_old <- rnd(30);
				}

			}

		}

		write "wedge creati";
		grafo <- directed(as_edge_graph(wedge));
		ask wedge
		{
			do set_betweenness;
		}

		write "inizializzazione variabili bus_stop";
		betw_max <- max(wedge collect each.btw);

		// set_appeal_matrix lo faccio qui e non nell'init della specie perchè alla fine dell'init cancello 
		ask bus_stop
		{
			do set_appeal_matrix;
		}

		write "inizio raggiungibili";
		ask bus_stop
		{
			do set_raggiungibili;
			do trova_vicini_geografici;
			do trova_out_edges;
			list_raggiungibili <- list_raggiungibili - [0];
			stop_raggiungibili <- bus_stop where (each.code in list_raggiungibili); //assegnazione reale
			list_raggiungibili <- nil;
		} //se scommenti questa ricorda di andare a rimuovere l'if nel reflex movimento, ogni fermata nella lista allora sarà raggiungibile
		write "removing duplicates";
		write "fine raggiugibili";
		Pesi <- nil;
		raggiungibili <- nil;
		edge_list_matrix <- nil;
		create GTKIRA;
		active_stops <- bus_stop where(each.stop_raggiungibili != [each]);
	}
}

species building
{
	int id;
	int type;
	aspect base
	{
		draw square(2) color: # red;
	}

}

species bus_stop
{

	int code; //codice fermata
	int popolazione_old update: popolazione;
	int popolazione;
	list<wedge> out_edges;
	list<bus_stop> vicini_geo;
	list<int> list_raggiungibili;
	list<bus_stop> stop_raggiungibili;
	list<float> fattore_scelta; //exp (-popolazione/proiezione) per ogni tipo di utente (lista 6 float)
	matrix<int> appeal_matrix <- 0 as_matrix ({ 10, 6 }); //Matrice di contenimento dei pesi definiti da fascia e utente
	action set_raggiungibili
	{
		self.list_raggiungibili <- list<int> (rows_list(raggiungibili) first_with (each[0] = self.code));
	}

	action trova_out_edges
	{
		out_edges <- (wedge where (each.partenza = self));
	}

	action trova_vicini_geografici
	{
		vicini_geo <- bus_stop where (each distance_to self < 2.5);
	}

	action set_appeal_matrix
	{
		int riga <- int(columns_list(Pesi)[0] first_with (each = self.code));
		loop colonna from: 1 to: 10
		{
			loop riga_int from: 1 to: 6
			{
				self.appeal_matrix[colonna - 1, riga_int - 1] <- Pesi[colonna, riga + riga_int];
			}

		}

	}

	reflex update_fattore_scelta
	{
	//ho creato un vettore con exp (-popolazione/proiezione[tipo, ora] per ogni tipo)
		fattore_scelta <- columns_list(appeal_matrix)[fascia_oraria] collect (exp(-popolazione_old / (int((each)) + 0.00001)) + 0.0001);
		popolazione <- 0;
	}

	aspect base
	{
		draw square(1.5) color: # pink;
	}

}

species wedge
{
	init
	{
		fascia_btwn <- min([2,int(self.btw * 3 / betw_max)]);
	}

	int popolazione_old update: popolazione; //eseguito prima del riflesso: il valore di popolazione viene salvato qui//**new
	int popolazione; //agenti che viaggiano sull'edge. Posto a 0 ogni inizio turno dal reflex (così viene posto a 0 dopo che popolazione_old copia il valore)
	bus_stop partenza;
	bus_stop arrivo;
	float penality <- 1.0 update: 1.0;
	list<float> avg_penality <- list_with(4, 1.0);
	float btw;
	int fascia_btwn max:4;
	float score;
	list<float> avg_score <- list_with(4, 0.0);
	int peso;
	int saturation_index max:4; // update: min([3,int(48*popolazione/25*peso)]);											
	aspect base
	{
		draw shape color:(penality=1.0? #black:#red);
	}

	reflex update_variables
	{
		saturation_index <- int(floor(48*4*(scala/100)) * (self.popolazione_old / self.peso)); //vale per ridottissimo
		score <- (btw / betw_max) ^ (1.0 / 3.0) * popolazione_old / (exp(2.131 * saturation_index) + 1);
		popolazione <- 0;
		avg_score[macro_fascia] <- avg_score[macro_fascia] + score / 70;
		//lo score medio viene valutato ogni 280 step, quindi aggiungo lo score già diviso per 280
	}

	action set_betweenness
	{ //se la trovalasua
		self.btw <- float((rows_list(bwn) where ((each[0]) = float(wedge index_of self)))[0][1]);
	}

}

species passenger skills: [moving]
{
	bus_stop the_target;
	bus_stop fermata;
	bool flag_abbonamento <- false;
	bool flag_movimento <- false update: false;
	float avg_risk <- 0.0;
//	float avg_risk_balance <- 0.0 update:0.0;//misura di quanto è cambiato il rischio medio nell'ultimo turno				**NEW
	float avg_mobility;
	float num_viaggi <- 0.0;
	matrix<float> viaggi <- 0.0 as_matrix ({ 5, 3 });	
	matrix<float> risk;
	int type;
	int titolo_viaggio min: 0 update: titolo_viaggio - 1;
	int travel_mode update: 3; // 0-> viaggio alternativo; 1 -> viaggio senza ticket; 2-> viaggio con ticket; 3 -> il flip (mobility) ha dato croce)
	path percorso <- path(0) update: path(0); //ogni inizio turno il percorso va azzerato!

	reflex decisione_abbonamento when: (every(40) and titolo_viaggio < 40) //**new
	{
		if (1200*self.avg_mobility*min([(self.avg_risk/max([1,self.num_viaggi]))*multa,ticket]) > abbonamento) //AGGIUNGERE GAUSSIANA
		{
			titolo_viaggio <- 1200;
			GTKIRA[0].utility <- GTKIRA[0].utility + abbonamento; //utility i soldi
			flag_abbonamento <- true;
		} 
		else
		{
			flag_abbonamento <- false;
		}

	}
	//40% in più della tua mobility che tu ti muova
	reflex movimento when: flip((1 + 0.4 * signum(titolo_viaggio)) * mobility[fascia_oraria, type])
	{
		flag_movimento <- true;
		if fermata = bus_stop[147] or bus_stop[431] or bus_stop[430] or bus_stop[285] or bus_stop[143] or bus_stop[406]
		{
			fermata <- any(bus_stop);
			location <- fermata.location;
		}

		fermata <- (fermata.vicini_geo)[rnd_choice(fermata.vicini_geo collect each.fattore_scelta[type])]; //scelta fermata tra i vicini
		if (fermata in active_stops)
		{
			the_target <- (fermata.stop_raggiungibili-fermata)[rnd_choice((fermata.stop_raggiungibili - fermata) collect each.fattore_scelta[type])]; //scelta meta viaggio
		}
		else
		{
//			write "inactive";
			fermata <- any(active_stops);
			the_target <- (fermata.stop_raggiungibili-fermata)[rnd_choice((fermata.stop_raggiungibili - fermata) collect each.fattore_scelta[type])];
		}
		percorso <- path_between(grafo, fermata.location, the_target.location);
		  //1 - prob che non ti controlli nessuno
		float risk_max <- 1 - mul(list<wedge> (percorso.edges) collect (1 - (risk[each.saturation_index, each.fascia_btwn] / (max([1,viaggi[each.saturation_index, each.fascia_btwn]])))));
/*NEW */float avg_risk_old <- avg_risk/max([1,num_viaggi]); //occhio: è già diviso per numero viaggi				   **NEW
		avg_risk <- dimenticanza * avg_risk + risk_max;
		num_viaggi <- num_viaggi * dimenticanza + 1;
/*NEW *///avg_risk_balance <- avg_risk/num_viaggi - avg_risk_old; //positivo: rischio medio aumentato, negativo: rischio diminuito
		list<float> utility <- list_with(3, 0.0);
		utility[0] <- exp(-length(percorso.edges)); //NV
		utility[1] <- 1 - exp(-length(percorso.edges) / (risk_max * multa + 0.001)); //VST
		utility[2] <- 1 - exp(-length(percorso.edges) / ticket) + self.titolo_viaggio; //VCT <- aggiungere bonus abbonamento?
		travel_mode <- utility index_of (max(utility)); //l'utility massima viene assegnata a travel_mode
		
		if (travel_mode = 2 and titolo_viaggio = 0)
		{
			self.titolo_viaggio <- 3;
			GTKIRA[0].utility <- GTKIRA[0].utility + ticket;
		}
		if (travel_mode != 0)
		{
			ask list<wedge> (percorso.edges)
			{
				popolazione <- popolazione + 1;
			}
				loop edgesi over: percorso.edges
				{
					risk[wedge(edgesi).saturation_index, wedge(edgesi).fascia_btwn] <- dimenticanza2 * risk[wedge(edgesi).saturation_index, wedge(edgesi).fascia_btwn];
					viaggi[wedge(edgesi).saturation_index, wedge(edgesi).fascia_btwn] <- dimenticanza2 * viaggi[wedge(edgesi).saturation_index, wedge(edgesi).fascia_btwn] + 1;
				}
			}

			fermata <- the_target;
			location <- fermata.location;
			fermata.popolazione <- fermata.popolazione + 1;
	}
	aspect base
	{
		if (travel_mode != 3)
		{
			draw sphere(0.75) color: travel_mode != 1 ? # yellow : # tan;
		}

	}

}

species GTKIRA
{
	list<list<wedge>> target_list <- list_with(4, n_controllori among wedge);
	float utility;
	float total_risk <- 0.0 update: sum(passenger collect (each.avg_risk/max([each.num_viaggi,1]))); 					   //NEW!
//	float risk_balance <- 0.0 update: risk_balance + sum(passenger collect each.avg_risk_balance);
	action update_target_list(int macro_fascia1)
	{
			target_list[macro_fascia1] <- copy_between(wedge sort_by (-each.avg_score[macro_fascia1]*each.avg_penality[macro_fascia1]), 0, 10 * n_controllori);
	}

	reflex creation when: time = 0 and index =0
	{
		write "controllori creati";
		create Smith number: n_controllori;
	}
	
	reflex evaluation when: every(280)
	{
		utility <- utility - n_controllori * 625;
	 //considerando un costo mensile di 2500€ a controllore, la GTT versa 625€ a controllore a settimana
		save
		[
			time,
			length(passenger where (each.travel_mode = 2)) * 100 / max([1,(length(passenger where(each.flag_movimento = true)))]), 
			length(passenger where (each.travel_mode = 1)) * 100 / max([1,(length(passenger where(each.flag_movimento = true)))]), 
			length(passenger where (each.travel_mode = 0)) * 100 / max([1,(length(passenger where(each.flag_movimento = true)))]),
			length(passenger where (each.flag_movimento = true)) * 100 / n_passenger,
			total_risk
		]
		 to:(salvataggio +"ticket_trend_b_"+  n_passenger +"_"+index + ".csv") type: "csv";
		ask wedge
		{
			penality <- 1.0;
			avg_penality <- avg_penality collect (each > 0.9 ? 1.0 : each + 0.1); //list_with(4, 1.0);
		}
		loop macro_fascia3 from: 0 to: 3
		//questo loop aggiunge penalità ai wedge controllati che non cambieranno e dà nuovi targets
		{
			ask Smith where (each.score[macro_fascia3] > mean(Smith collect each.score[macro_fascia3]))
			//bisogna che i target che non cambiano (quelli dei controllori migliori) conservino la penalità nello score! altrimenti si finirà per assegnare gli
			//stessi target ai controllori in settimane diverse. Questo ask chiede ai controllori migliori di aggiungere penalità ai wedge che loro controllavano
			//(e che continueranno a controllare)
			{
				ask wedge where (each = targets[macro_fascia3])
				{
					ask wedge at_distance 1.0
					{
						avg_penality[macro_fascia3] <- max([avg_penality[macro_fascia3] - 0.5, 0.0]);
					}

				}

			}
			//Muove smith scarsi
			ask Smith where (each.score[macro_fascia3] <= mean(Smith collect each.score[macro_fascia3]))
			{
				ask wedge where (each = targets[macro_fascia3]) //Aggiungo penalità ai wedge che hanno reso poco
				{
					avg_penality[macro_fascia3] <- max([avg_penality[macro_fascia3] - 0.5, 0.0]);
				}
				if flip(0.5)
				{
					do acquire_new_targets(macro_fascia3, true);
				} 
				else
				{
					do acquire_new_targets(macro_fascia3, false);
				}

			}
			do update_target_list(macro_fascia3);
		}

		ask Smith
		{
			score <- list_with(4, 0);
		}

		ask wedge
		{
			avg_score <- list_with(4, 0.0);
		}
	}

	action crea_agente_smith
	{
		create Smith;
	}

}

species Smith

{
	init
	{
		loop macro_fascia2 from: 0 to: 3
		{
			do acquire_new_targets(macro_fascia2, true);
		}
	}

	list<int> score <- list_with(4, 0);
	list<wedge> percorso;
	list<wedge> targets <- list_with(4, wedge(0));
	action acquire_new_targets (int a, bool random) //a è la macrofascia oraria per cui va acquisito il nuovo target 
	{
		if random = false {targets[a] <- GTKIRA[0].target_list[a][0];}
		else {targets[a] <- any(wedge where (each.avg_penality[a] = 1.0)); }
		ask targets[a]
		{
			avg_penality[a] <- max([avg_penality[a] - 0.9, 0.0]);
			ask wedge at_distance 1.0
			{
				avg_penality[a] <- max([avg_penality[a] - 0.5, 0.0]);
			}
		}
		ask GTKIRA[0]{do update_target_list(a);}
	}

	reflex turn_shift when: (cycle mod 10 = 0)
	{
		location <- targets[macro_fascia].location;
	}

	reflex movimento 

	{
		float path_score <- targets[macro_fascia].score;
		float path_score_max <- path_score;
		list<wedge> available <- [];
		loop fermate over: targets[macro_fascia].arrivo.vicini_geo
		{
			available <- available + fermate.out_edges;
		}

		loop wedge2 over: copy_between(available sort_by (-each.score * each.penality), 0, min([3, length(available)]))
		{
			path_score <- path_score + wedge2.score * wedge2.penality;
			list<wedge> available2 <- [];
			loop fermate over: wedge2.arrivo.vicini_geo
			{
				available2 <- available2 + fermate.out_edges;
			}

			loop wedge3 over: copy_between(available2 sort_by (-each.score * each.penality), 0, min([3, length(available2)]))
			{
				path_score <- path_score + wedge3.score * wedge3.penality;
				list<wedge> available3 <- [];
				loop fermate over: wedge3.arrivo.vicini_geo
				{
					available3 <- available3 + fermate.out_edges;
				}

				loop wedge4 over: copy_between(available3 sort_by (- each.score * each.penality), 0, min([3, length(available3)]))
				{
					path_score <- path_score + wedge4.score * wedge4.penality;
					list<wedge> available4 <- [];
					loop fermate over: wedge4.arrivo.vicini_geo
					{
						available4 <- available4 + fermate.out_edges;
					}

					loop wedge5 over: copy_between(available4 sort_by (- each.score * each.penality), 0, min([3, length(available4)]))
					{
						path_score <- path_score + wedge5.score * wedge5.penality;
						list<wedge> available5 <- [];
						loop fermate over: wedge5.arrivo.vicini_geo
						{
							available5 <- available5 + fermate.out_edges;
						}

						loop wedge6 over: copy_between(available5 sort_by (- each.score * each.penality), 0, min([3, length(available5)]))
						{
							path_score <- path_score + wedge6.score * wedge6.penality;
							list<wedge> available6 <- [];
							loop fermate over: wedge6.arrivo.vicini_geo
							{
								available6 <- available6 + fermate.out_edges;
							}

							loop wedge7 over: copy_between(available6 sort_by (- each.score * each.penality), 0, min([3, length(available6)]))
							{
								path_score <- path_score + wedge7.score * wedge7.penality;
								if (path_score > path_score_max)
								{
									percorso <- [targets[macro_fascia]] + [wedge2] + [wedge3] + [wedge4] + [wedge5] + [wedge6] + [wedge7];
									path_score_max <- path_score;
								}

							}

						}

					}

				}

			}

		}

		ask wedge where (each in self.percorso) //penalizzazione wedge già percorsi

		{
			self.penality <- 0.5 * self.penality;
		}

		ask GTKIRA[0] //riordino la lista di target dopo le penalizzazioni

		{
			self.target_list[macro_fascia] <- self.target_list[macro_fascia] sort_by (-each.avg_score[macro_fascia]);
		}

	}

	reflex verification
	{
		list<list<int>> morosi <- nil;
		loop edge over: percorso
		{//popolazione/peso sono gli agenti che erano su quell'edge. Peso va diviso per 2
			
			ask (int(48*edge.popolazione/edge.peso)) among passenger where (each.flag_movimento = true and edge in each.percorso.edges)
			{
				morosi <- morosi + (passenger where (each.flag_movimento = true and edge in each.percorso.edges and each.titolo_viaggio=0)) collect [int(each), int(edge)];
				self.risk[edge.saturation_index, edge.fascia_btwn] <- min([self.risk[edge.saturation_index, edge.fascia_btwn] + 1,self.viaggi[edge.saturation_index, edge.fascia_btwn]]);
			}
		}
		self.score[macro_fascia] <- self.score[macro_fascia] + multa*min([4,length(morosi)]);
		GTKIRA[0].utility <- GTKIRA[0].utility + multa*min([4,length(morosi)]);
		ask 4 among morosi collect (passenger[each[0]])
		{
			wedge edge <- wedge[(morosi first_with (each[0]=passenger index_of self))[1]];
			ask (3 among passenger)
			{
				self.risk[edge.saturation_index, edge.fascia_btwn] <- min([self.risk[edge.saturation_index, edge.fascia_btwn] + 0.5,self.viaggi[edge.saturation_index, edge.fascia_btwn]]);
				self.viaggi[edge.saturation_index, edge.fascia_btwn]<-1+ self.viaggi[edge.saturation_index, edge.fascia_btwn];
			}
			//self.risk[edge.saturation_index, edge.fascia_btwn] <- 1+self.risk[edge.saturation_index, edge.fascia_btwn];
			self.titolo_viaggio <- 3;
			self.travel_mode <- 2;
		}
	}

	aspect base
	{
		draw sphere(0.85) color: # green;
	}

}

experiment graphExp type: gui
{
	output
	{

		display graphView type: opengl
		{
//			species bus_stop aspect: base;
            species wedge aspect: base;
            species passenger aspect:base;
			species Smith aspect: base;
			//                  species building aspect:base;
		}
	    display chart refresh_every: 1 																					//NEW
	    {
			chart "Charles_the_chart" type: series background: rgb("lightGray") style: exploded 
			{
				data "Risk (magnified 10x)" value: 10*GTKIRA[0].total_risk/n_passenger color: rgb("red");
				data "Abbonati" value:length(passenger where (each.titolo_viaggio > 3))/ n_passenger  color: rgb("green");
			}
		}
	}

}
experiment stabilita type: batch repeat: 4 until: n_controllori >10 keep_seed: false {}

<<<
Document event: offset: 3089, length: 1, timestamp: 63
text:><



!ENTRY org.apache.log4j 4 0 2015-11-09 21:27:22.834
!MESSAGE org.eclipse.xtext.ui.editor.model.DocumentPartitioner  - Detected unexpected state in document partitioner. Please file a bug with the following information attached:
Document content after the event was applied:
>>>/**
 *  Model_5.1
 *  Author: Alessandro
 *  Description: 
 */

model Model51

/* Insert your model definition here */
global
{
	file shape_file_cinema <- file("../includes/ridottissimo/cinema_geo.shp");
	file shape_file_sport_center <- file("../includes/ridottissimo/impianti_sportivi_geo.shp");
	file shape_file_museum <- file("../includes/ridottissimo/musei_geo.shp");
	file shape_file_hospital <- file("../includes/ridottissimo/ospedali_geo.shp");
	file shape_file_school <- file("../includes/ridottissimo/scuole2.shp");
	file shape_file_ASL <- file("../includes/ridottissimo/sedi_asl_geo2.shp");
	file shape_file_university <- file("../includes/ridottissimo/universita_geo.shp");
	file shape_file_theater <- file("../includes/ridottissimo/teatri_geo.shp");
	file shape_file_stops <- file("../includes/ridottissimo/transport_points_4.shp");

	file csv_edges_list <- csv_file("../includes/ultimate_edges_list_ext_noint.csv", ",");
	matrix edge_list_matrix <- matrix(csv_edges_list); //utile per il ciclo di assegnazione

	file csv_orario <- csv_file("../includes/orari.csv", ",");
	matrix<int> orario <- matrix<int> (csv_orario);

	file csv_affinity <- csv_file("../includes/affinity.csv", ",");
	matrix<float> affinity <- matrix<float> (csv_affinity);

	file csv_mobility <- csv_file("../includes/mobility3.csv", ",");
	matrix<float> mobility <- matrix<float> (csv_mobility);

	file csv_raggiungibile <- csv_file("../includes/ridottissimo/raggiungibili.csv", ",");
	matrix<int> raggiungibili <- matrix<int> (csv_raggiungibile);

	file csv_pesi <- csv_file("../includes/ridottissimo/pesi.csv", ";");
	matrix<int> Pesi <- matrix<int> (csv_pesi);

	file csv_betweenness <- csv_file("../includes/ridottissimo/betweenness.csv", ",");
	matrix<float> bwn <- matrix<float> (csv_betweenness);

	graph grafo;
	int fascia_oraria update: int(time / 4) mod 10;
	int macro_fascia update: int(time / 10) mod 4;
	int day update: int(time / 40) + 1;
	int multa;
//	bool salva <- true update:(time < 2000?((time mod 150 =0)? true:false):((time mod 800 =0)? true:false));
	int n_controllori;
	int n_passenger<-15000;
	float ticket;
	float dimenticanza <- 0.9862327;
	float dimenticanza2 <- 0.9986;
	float abbonamento;
	float betw_max;
	float scala;
	int index <- 0;
	float reset_time <- 146000.0;
	list<bus_stop> active_stops;
	string salvataggio <- "./exports/09_11/";
	reflex doomsday when: time = reset_time
	{
		index <- index +1;
		ask wedge
		{
			penality <- 1.0;
			avg_penality <- list_with(4, 1.0);
			score<-0.0;
			avg_score <- list_with(4, 0.0);
		}
		ask passenger
		{
			flag_abbonamento <- false;
			avg_risk <- 0.0;
			num_viaggi <- 0.0;
//			avg_risk_balance <- 0.0;
			viaggi <- 0.0 as_matrix ({ 5, 3 });
			risk <- 0.0 as_matrix ({ 5, 3 });
			titolo_viaggio<-0;
		}
		ask GTKIRA
		{
			target_list <- list_with(4, n_controllori among wedge);
			utility <- 0.0;
			total_risk <- 0.0;
		}
		ask Smith
		{
			score <- list_with(4, 0);
			loop macro_fascia2 from: 0 to: 3
			{
				do acquire_new_targets(macro_fascia2, true);
			}
		}
		write "reset_globale";
		time <- 0.0;
		seed <- 1;
	}
	reflex shouldHalt when: cycle = 10*reset_time
	{
		write "halting";
    	do halt;
	}
	init
	{
		//write fit_abbonamento;
		seed <- 100.0;
		index<-0;
		n_controllori <- 4;
		multa <- 50;
		fascia_oraria <- 0;
		ticket <- 1.5;
		abbonamento <- 40.0;
		scala <- 29782 / n_passenger; //RIDOTTISSIMO 56239 RIDOTTO 320000
		create building from: shape_file_cinema with: [type:: 0, id::int(read("ID_CINEMA")) - 1, location::{ float(read("XCOORD")) / 100, float(read("YCOORD")) / 100, 0 }];
		create building from: shape_file_sport_center with: [type:: 1, id::int(read("ID_R_IMP_T")) + 47, location::{ float(read("XCOORD")) / 100, float(read("YCOORD")) / 100, 0 }];
		create building from: shape_file_museum with: [type:: 2, id::int(read("ID_TIPOPTO")) + 749, location::{ float(read("XCOORD")) / 100, float(read("YCOORD")) / 100, 0 }];
		create building from: shape_file_hospital with: [type:: 3, id::int(read("ID_OSPEDAL")) + 834, location::{ float(read("XCOORD")) / 100, float(read("YCOORD")) / 100, 0 }];
		create building from: shape_file_school with: [type:: 4, id::int(read("ID_PT_INGR")) + 796, location::{ float(read("XCOORD")) / 100, float(read("YCOORD")) / 100, 0 }];
		create building from: shape_file_ASL with: [type:: 5, id::int(read("ID_ASL")) + 1493, location::{ float(read("XCOORD")) / 100, float(read("YCOORD")) / 100, 0 }];
		create building from: shape_file_university with: [type:: 6, id::int(read("ID_UNIVERS")) + 1504, location::{ float(read("XCOORD")) / 100, float(read("YCOORD")) / 100, 0 }];
		create building from: shape_file_theater with: [type:: 7, id::int(read("ID_R_PUNTO")) + 1537, location::{ float(read("XCOORD")) / 100, float(read("YCOORD")) / 100, 0 }];
		create bus_stop from: shape_file_stops with: [code::int(read("ref")), location::{ float(read("XCOORD")) / 100 - 8460, float(read("YCOORD")) / 100 - 56300, 0
		}, fattore_scelta::list_with(6, 0.0)];
		write "bus_stop creati";
		create passenger number: n_passenger
		{
			bus_stop locazione <- one_of(bus_stop);
			the_target <- one_of(bus_stop);
			location <- locazione.location;
			fermata <- locazione;
			type <- rnd(5);
			risk <- 0.00 as_matrix ({ 5, 3 }); //colonne:saturation_index, righe:betweenness
			avg_mobility <- mean(list<float> (rows_list(mobility)[type]));
		}

		write "passenger creati";
		loop j from: 0 to: length(rows_list(edge_list_matrix)) - 1
		{
//			int arrivo2 <- int(edge_list_matrix[1, j]);
//			int partenza2 <- int(edge_list_matrix[0, j]);
			if ((bus_stop where (each.code = int(edge_list_matrix[0, j]))) != [] and (bus_stop where (each.code = int(edge_list_matrix[1, j]))) != [])
			{
				create wedge
				{
					arrivo <- (bus_stop where (each.code = int(edge_list_matrix[1, j])))[0];
					partenza <- (bus_stop where (each.code = int(edge_list_matrix[0, j])))[0];
					peso <- (int(edge_list_matrix[2, j]));
					shape <- line([partenza.location, arrivo.location],0.15);
					popolazione_old <- rnd(30);
				}

			}

		}

		write "wedge creati";
		grafo <- directed(as_edge_graph(wedge));
		ask wedge
		{
			do set_betweenness;
		}

		write "inizializzazione variabili bus_stop";
		betw_max <- max(wedge collect each.btw);

		// set_appeal_matrix lo faccio qui e non nell'init della specie perchè alla fine dell'init cancello 
		ask bus_stop
		{
			do set_appeal_matrix;
		}

		write "inizio raggiungibili";
		ask bus_stop
		{
			do set_raggiungibili;
			do trova_vicini_geografici;
			do trova_out_edges;
			list_raggiungibili <- list_raggiungibili - [0];
			stop_raggiungibili <- bus_stop where (each.code in list_raggiungibili); //assegnazione reale
			list_raggiungibili <- nil;
		} //se scommenti questa ricorda di andare a rimuovere l'if nel reflex movimento, ogni fermata nella lista allora sarà raggiungibile
		write "removing duplicates";
		write "fine raggiugibili";
		Pesi <- nil;
		raggiungibili <- nil;
		edge_list_matrix <- nil;
		create GTKIRA;
		active_stops <- bus_stop where(each.stop_raggiungibili != [each]);
	}
}

species building
{
	int id;
	int type;
	aspect base
	{
		draw square(2) color: # red;
	}

}

species bus_stop
{

	int code; //codice fermata
	int popolazione_old update: popolazione;
	int popolazione;
	list<wedge> out_edges;
	list<bus_stop> vicini_geo;
	list<int> list_raggiungibili;
	list<bus_stop> stop_raggiungibili;
	list<float> fattore_scelta; //exp (-popolazione/proiezione) per ogni tipo di utente (lista 6 float)
	matrix<int> appeal_matrix <- 0 as_matrix ({ 10, 6 }); //Matrice di contenimento dei pesi definiti da fascia e utente
	action set_raggiungibili
	{
		self.list_raggiungibili <- list<int> (rows_list(raggiungibili) first_with (each[0] = self.code));
	}

	action trova_out_edges
	{
		out_edges <- (wedge where (each.partenza = self));
	}

	action trova_vicini_geografici
	{
		vicini_geo <- bus_stop where (each distance_to self < 2.5);
	}

	action set_appeal_matrix
	{
		int riga <- int(columns_list(Pesi)[0] first_with (each = self.code));
		loop colonna from: 1 to: 10
		{
			loop riga_int from: 1 to: 6
			{
				self.appeal_matrix[colonna - 1, riga_int - 1] <- Pesi[colonna, riga + riga_int];
			}

		}

	}

	reflex update_fattore_scelta
	{
	//ho creato un vettore con exp (-popolazione/proiezione[tipo, ora] per ogni tipo)
		fattore_scelta <- columns_list(appeal_matrix)[fascia_oraria] collect (exp(-popolazione_old / (int((each)) + 0.00001)) + 0.0001);
		popolazione <- 0;
	}

	aspect base
	{
		draw square(1.5) color: # pink;
	}

}

species wedge
{
	init
	{
		fascia_btwn <- min([2,int(self.btw * 3 / betw_max)]);
	}

	int popolazione_old update: popolazione; //eseguito prima del riflesso: il valore di popolazione viene salvato qui//**new
	int popolazione; //agenti che viaggiano sull'edge. Posto a 0 ogni inizio turno dal reflex (così viene posto a 0 dopo che popolazione_old copia il valore)
	bus_stop partenza;
	bus_stop arrivo;
	float penality <- 1.0 update: 1.0;
	list<float> avg_penality <- list_with(4, 1.0);
	float btw;
	int fascia_btwn max:4;
	float score;
	list<float> avg_score <- list_with(4, 0.0);
	int peso;
	int saturation_index max:4; // update: min([3,int(48*popolazione/25*peso)]);											
	aspect base
	{
		draw shape color:(penality=1.0? #black:#red);
	}

	reflex update_variables
	{
		saturation_index <- int(floor(48*4*(scala/100)) * (self.popolazione_old / self.peso)); //vale per ridottissimo
		score <- (btw / betw_max) ^ (1.0 / 3.0) * popolazione_old / (exp(2.131 * saturation_index) + 1);
		popolazione <- 0;
		avg_score[macro_fascia] <- avg_score[macro_fascia] + score / 70;
		//lo score medio viene valutato ogni 280 step, quindi aggiungo lo score già diviso per 280
	}

	action set_betweenness
	{ //se la trovalasua
		self.btw <- float((rows_list(bwn) where ((each[0]) = float(wedge index_of self)))[0][1]);
	}

}

species passenger skills: [moving]
{
	bus_stop the_target;
	bus_stop fermata;
	bool flag_abbonamento <- false;
	bool flag_movimento <- false update: false;
	float avg_risk <- 0.0;
//	float avg_risk_balance <- 0.0 update:0.0;//misura di quanto è cambiato il rischio medio nell'ultimo turno				**NEW
	float avg_mobility;
	float num_viaggi <- 0.0;
	matrix<float> viaggi <- 0.0 as_matrix ({ 5, 3 });	
	matrix<float> risk;
	int type;
	int titolo_viaggio min: 0 update: titolo_viaggio - 1;
	int travel_mode update: 3; // 0-> viaggio alternativo; 1 -> viaggio senza ticket; 2-> viaggio con ticket; 3 -> il flip (mobility) ha dato croce)
	path percorso <- path(0) update: path(0); //ogni inizio turno il percorso va azzerato!

	reflex decisione_abbonamento when: (every(40) and titolo_viaggio < 40) //**new
	{
		if (1200*self.avg_mobility*min([(self.avg_risk/max([1,self.num_viaggi]))*multa,ticket]) > abbonamento) //AGGIUNGERE GAUSSIANA
		{
			titolo_viaggio <- 1200;
			GTKIRA[0].utility <- GTKIRA[0].utility + abbonamento; //utility i soldi
			flag_abbonamento <- true;
		} 
		else
		{
			flag_abbonamento <- false;
		}

	}
	//40% in più della tua mobility che tu ti muova
	reflex movimento when: flip((1 + 0.4 * signum(titolo_viaggio)) * mobility[fascia_oraria, type])
	{
		flag_movimento <- true;
		if fermata = bus_stop[147] or bus_stop[431] or bus_stop[430] or bus_stop[285] or bus_stop[143] or bus_stop[406]
		{
			fermata <- any(bus_stop);
			location <- fermata.location;
		}

		fermata <- (fermata.vicini_geo)[rnd_choice(fermata.vicini_geo collect each.fattore_scelta[type])]; //scelta fermata tra i vicini
		if (fermata in active_stops)
		{
			the_target <- (fermata.stop_raggiungibili-fermata)[rnd_choice((fermata.stop_raggiungibili - fermata) collect each.fattore_scelta[type])]; //scelta meta viaggio
		}
		else
		{
//			write "inactive";
			fermata <- any(active_stops);
			the_target <- (fermata.stop_raggiungibili-fermata)[rnd_choice((fermata.stop_raggiungibili - fermata) collect each.fattore_scelta[type])];
		}
		percorso <- path_between(grafo, fermata.location, the_target.location);
		  //1 - prob che non ti controlli nessuno
		float risk_max <- 1 - mul(list<wedge> (percorso.edges) collect (1 - (risk[each.saturation_index, each.fascia_btwn] / (max([1,viaggi[each.saturation_index, each.fascia_btwn]])))));
/*NEW */float avg_risk_old <- avg_risk/max([1,num_viaggi]); //occhio: è già diviso per numero viaggi				   **NEW
		avg_risk <- dimenticanza * avg_risk + risk_max;
		num_viaggi <- num_viaggi * dimenticanza + 1;
/*NEW *///avg_risk_balance <- avg_risk/num_viaggi - avg_risk_old; //positivo: rischio medio aumentato, negativo: rischio diminuito
		list<float> utility <- list_with(3, 0.0);
		utility[0] <- exp(-length(percorso.edges)); //NV
		utility[1] <- 1 - exp(-length(percorso.edges) / (risk_max * multa + 0.001)); //VST
		utility[2] <- 1 - exp(-length(percorso.edges) / ticket) + self.titolo_viaggio; //VCT <- aggiungere bonus abbonamento?
		travel_mode <- utility index_of (max(utility)); //l'utility massima viene assegnata a travel_mode
		
		if (travel_mode = 2 and titolo_viaggio = 0)
		{
			self.titolo_viaggio <- 3;
			GTKIRA[0].utility <- GTKIRA[0].utility + ticket;
		}
		if (travel_mode != 0)
		{
			ask list<wedge> (percorso.edges)
			{
				popolazione <- popolazione + 1;
			}
				loop edgesi over: percorso.edges
				{
					risk[wedge(edgesi).saturation_index, wedge(edgesi).fascia_btwn] <- dimenticanza2 * risk[wedge(edgesi).saturation_index, wedge(edgesi).fascia_btwn];
					viaggi[wedge(edgesi).saturation_index, wedge(edgesi).fascia_btwn] <- dimenticanza2 * viaggi[wedge(edgesi).saturation_index, wedge(edgesi).fascia_btwn] + 1;
				}
			}

			fermata <- the_target;
			location <- fermata.location;
			fermata.popolazione <- fermata.popolazione + 1;
	}
	aspect base
	{
		if (travel_mode != 3)
		{
			draw sphere(0.75) color: travel_mode != 1 ? # yellow : # tan;
		}

	}

}

species GTKIRA
{
	list<list<wedge>> target_list <- list_with(4, n_controllori among wedge);
	float utility;
	float total_risk <- 0.0 update: sum(passenger collect (each.avg_risk/max([each.num_viaggi,1]))); 					   //NEW!
//	float risk_balance <- 0.0 update: risk_balance + sum(passenger collect each.avg_risk_balance);
	action update_target_list(int macro_fascia1)
	{
			target_list[macro_fascia1] <- copy_between(wedge sort_by (-each.avg_score[macro_fascia1]*each.avg_penality[macro_fascia1]), 0, 10 * n_controllori);
	}

	reflex creation when: time = 0 and index =0
	{
		write "controllori creati";
		create Smith number: n_controllori;
	}
	
	reflex evaluation when: every(280)
	{
		utility <- utility - n_controllori * 625;
	 //considerando un costo mensile di 2500€ a controllore, la GTT versa 625€ a controllore a settimana
		save
		[
			time,
			length(passenger where (each.travel_mode = 2)) * 100 / max([1,(length(passenger where(each.flag_movimento = true)))]), 
			length(passenger where (each.travel_mode = 1)) * 100 / max([1,(length(passenger where(each.flag_movimento = true)))]), 
			length(passenger where (each.travel_mode = 0)) * 100 / max([1,(length(passenger where(each.flag_movimento = true)))]),
			length(passenger where (each.flag_movimento = true)) * 100 / n_passenger,
			total_risk
		]
		 to:(salvataggio +"ticket_trend_b_"+  n_passenger +"_"+index + ".csv") type: "csv";
		ask wedge
		{
			penality <- 1.0;
			avg_penality <- avg_penality collect (each > 0.9 ? 1.0 : each + 0.1); //list_with(4, 1.0);
		}
		loop macro_fascia3 from: 0 to: 3
		//questo loop aggiunge penalità ai wedge controllati che non cambieranno e dà nuovi targets
		{
			ask Smith where (each.score[macro_fascia3] > mean(Smith collect each.score[macro_fascia3]))
			//bisogna che i target che non cambiano (quelli dei controllori migliori) conservino la penalità nello score! altrimenti si finirà per assegnare gli
			//stessi target ai controllori in settimane diverse. Questo ask chiede ai controllori migliori di aggiungere penalità ai wedge che loro controllavano
			//(e che continueranno a controllare)
			{
				ask wedge where (each = targets[macro_fascia3])
				{
					ask wedge at_distance 1.0
					{
						avg_penality[macro_fascia3] <- max([avg_penality[macro_fascia3] - 0.5, 0.0]);
					}

				}

			}
			//Muove smith scarsi
			ask Smith where (each.score[macro_fascia3] <= mean(Smith collect each.score[macro_fascia3]))
			{
				ask wedge where (each = targets[macro_fascia3]) //Aggiungo penalità ai wedge che hanno reso poco
				{
					avg_penality[macro_fascia3] <- max([avg_penality[macro_fascia3] - 0.5, 0.0]);
				}
				if flip(0.5)
				{
					do acquire_new_targets(macro_fascia3, true);
				} 
				else
				{
					do acquire_new_targets(macro_fascia3, false);
				}

			}
			do update_target_list(macro_fascia3);
		}

		ask Smith
		{
			score <- list_with(4, 0);
		}

		ask wedge
		{
			avg_score <- list_with(4, 0.0);
		}
	}

	action crea_agente_smith
	{
		create Smith;
	}

}

species Smith

{
	init
	{
		loop macro_fascia2 from: 0 to: 3
		{
			do acquire_new_targets(macro_fascia2, true);
		}
	}

	list<int> score <- list_with(4, 0);
	list<wedge> percorso;
	list<wedge> targets <- list_with(4, wedge(0));
	action acquire_new_targets (int a, bool random) //a è la macrofascia oraria per cui va acquisito il nuovo target 
	{
		if random = false {targets[a] <- GTKIRA[0].target_list[a][0];}
		else {targets[a] <- any(wedge where (each.avg_penality[a] = 1.0)); }
		ask targets[a]
		{
			avg_penality[a] <- max([avg_penality[a] - 0.9, 0.0]);
			ask wedge at_distance 1.0
			{
				avg_penality[a] <- max([avg_penality[a] - 0.5, 0.0]);
			}
		}
		ask GTKIRA[0]{do update_target_list(a);}
	}

	reflex turn_shift when: (cycle mod 10 = 0)
	{
		location <- targets[macro_fascia].location;
	}

	reflex movimento 

	{
		float path_score <- targets[macro_fascia].score;
		float path_score_max <- path_score;
		list<wedge> available <- [];
		loop fermate over: targets[macro_fascia].arrivo.vicini_geo
		{
			available <- available + fermate.out_edges;
		}

		loop wedge2 over: copy_between(available sort_by (-each.score * each.penality), 0, min([3, length(available)]))
		{
			path_score <- path_score + wedge2.score * wedge2.penality;
			list<wedge> available2 <- [];
			loop fermate over: wedge2.arrivo.vicini_geo
			{
				available2 <- available2 + fermate.out_edges;
			}

			loop wedge3 over: copy_between(available2 sort_by (-each.score * each.penality), 0, min([3, length(available2)]))
			{
				path_score <- path_score + wedge3.score * wedge3.penality;
				list<wedge> available3 <- [];
				loop fermate over: wedge3.arrivo.vicini_geo
				{
					available3 <- available3 + fermate.out_edges;
				}

				loop wedge4 over: copy_between(available3 sort_by (- each.score * each.penality), 0, min([3, length(available3)]))
				{
					path_score <- path_score + wedge4.score * wedge4.penality;
					list<wedge> available4 <- [];
					loop fermate over: wedge4.arrivo.vicini_geo
					{
						available4 <- available4 + fermate.out_edges;
					}

					loop wedge5 over: copy_between(available4 sort_by (- each.score * each.penality), 0, min([3, length(available4)]))
					{
						path_score <- path_score + wedge5.score * wedge5.penality;
						list<wedge> available5 <- [];
						loop fermate over: wedge5.arrivo.vicini_geo
						{
							available5 <- available5 + fermate.out_edges;
						}

						loop wedge6 over: copy_between(available5 sort_by (- each.score * each.penality), 0, min([3, length(available5)]))
						{
							path_score <- path_score + wedge6.score * wedge6.penality;
							list<wedge> available6 <- [];
							loop fermate over: wedge6.arrivo.vicini_geo
							{
								available6 <- available6 + fermate.out_edges;
							}

							loop wedge7 over: copy_between(available6 sort_by (- each.score * each.penality), 0, min([3, length(available6)]))
							{
								path_score <- path_score + wedge7.score * wedge7.penality;
								if (path_score > path_score_max)
								{
									percorso <- [targets[macro_fascia]] + [wedge2] + [wedge3] + [wedge4] + [wedge5] + [wedge6] + [wedge7];
									path_score_max <- path_score;
								}

							}

						}

					}

				}

			}

		}

		ask wedge where (each in self.percorso) //penalizzazione wedge già percorsi

		{
			self.penality <- 0.5 * self.penality;
		}

		ask GTKIRA[0] //riordino la lista di target dopo le penalizzazioni

		{
			self.target_list[macro_fascia] <- self.target_list[macro_fascia] sort_by (-each.avg_score[macro_fascia]);
		}

	}

	reflex verification
	{
		list<list<int>> morosi <- nil;
		loop edge over: percorso
		{//popolazione/peso sono gli agenti che erano su quell'edge. Peso va diviso per 2
			
			ask (int(48*edge.popolazione/edge.peso)) among passenger where (each.flag_movimento = true and edge in each.percorso.edges)
			{
				morosi <- morosi + (passenger where (each.flag_movimento = true and edge in each.percorso.edges and each.titolo_viaggio=0)) collect [int(each), int(edge)];
				self.risk[edge.saturation_index, edge.fascia_btwn] <- min([self.risk[edge.saturation_index, edge.fascia_btwn] + 1,self.viaggi[edge.saturation_index, edge.fascia_btwn]]);
			}
		}
		self.score[macro_fascia] <- self.score[macro_fascia] + multa*min([4,length(morosi)]);
		GTKIRA[0].utility <- GTKIRA[0].utility + multa*min([4,length(morosi)]);
		ask 4 among morosi collect (passenger[each[0]])
		{
			wedge edge <- wedge[(morosi first_with (each[0]=passenger index_of self))[1]];
			ask (3 among passenger)
			{
				self.risk[edge.saturation_index, edge.fascia_btwn] <- min([self.risk[edge.saturation_index, edge.fascia_btwn] + 0.5,self.viaggi[edge.saturation_index, edge.fascia_btwn]]);
				self.viaggi[edge.saturation_index, edge.fascia_btwn]<-1+ self.viaggi[edge.saturation_index, edge.fascia_btwn];
			}
			//self.risk[edge.saturation_index, edge.fascia_btwn] <- 1+self.risk[edge.saturation_index, edge.fascia_btwn];
			self.titolo_viaggio <- 3;
			self.travel_mode <- 2;
		}
	}

	aspect base
	{
		draw sphere(0.85) color: # green;
	}

}

experiment graphExp type: gui
{
	output
	{

		display graphView type: opengl
		{
//			species bus_stop aspect: base;
            species wedge aspect: base;
            species passenger aspect:base;
			species Smith aspect: base;
			//                  species building aspect:base;
		}
	    display chart refresh_every: 1 																					//NEW
	    {
			chart "Charles_the_chart" type: series background: rgb("lightGray") style: exploded 
			{
				data "Risk (magnified 10x)" value: 10*GTKIRA[0].total_risk/n_passenger color: rgb("red");
				data "Abbonati" value:length(passenger where (each.titolo_viaggio > 3))/ n_passenger  color: rgb("green");
			}
		}
	}

}
experiment stabilita type: batch repeat: 4 until: n_controllori >10 keep_seed: false {}

<<<
Document event: offset: 3088, length: 1, timestamp: 64
text:><



!ENTRY org.eclipse.ui 4 4 2015-11-09 21:27:23.569
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:27:23.656
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:27:26.837
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:27:31.843
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:27:32.881
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:27:49.958
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.VariableRefImpl@5aa9d25f (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:27:52.144
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.S_DirectAssignmentImpl@26f8bb68 (key: <-, firstFacet: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:35:47.130
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.VariableRefImpl@14c2576c (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:35:52.209
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.StringLiteralImpl@34b35522 (op: halting)

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:35:56.793
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:35:59.095
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:36:01.481
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:36:12.163
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:36:12.279
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:36:13.542
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:36:14.936
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:36:15.197
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:36:16.050
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:36:16.333
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:36:20.364
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:50:39.497
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:50:42.778
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:50:43.931
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:50:44.883
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:50:53.669
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:50:54.834
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:51:03.862
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:51:10.937
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:51:11.102
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:51:16.479
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:51:17.481
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:51:33.269
!MESSAGE Perspective msi.gama.application.perspectives.SimulationPerspective open 

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:51:35.322
!MESSAGE GamaRuntimeException java.lang.NullPointerException

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:51:35.329
!MESSAGE GamaRuntimeException java.lang.NullPointerException
!STACK 0
java.lang.NullPointerException
	at msi.gama.metamodel.agent.GamlAgent.setDirectVarValue(GamlAgent.java:106)
	at msi.gama.runtime.AbstractScope.setAgentVarValue(AbstractScope.java:667)
	at msi.gaml.expressions.AgentVariableExpression.setVal(AgentVariableExpression.java:34)
	at msi.gaml.statements.SetStatement.privateExecuteIn(SetStatement.java:96)
	at msi.gaml.statements.AbstractStatement.executeOn(AbstractStatement.java:42)
	at msi.gaml.statements.AbstractStatementSequence.privateExecuteIn(AbstractStatementSequence.java:69)
	at msi.gaml.architecture.reflex.ReflexStatement.privateExecuteIn(ReflexStatement.java:57)
	at msi.gaml.statements.AbstractStatement.executeOn(AbstractStatement.java:42)
	at msi.gaml.statements.AbstractStatementSequence.executeOn(AbstractStatementSequence.java:57)
	at msi.gaml.architecture.reflex.ReflexArchitecture.init(ReflexArchitecture.java:83)
	at msi.gama.metamodel.agent.GamlAgent._init_(GamlAgent.java:158)
	at msi.gama.kernel.simulation.SimulationAgent._init_(SimulationAgent.java:194)
	at msi.gama.metamodel.agent.GamlAgent.init(GamlAgent.java:120)
	at msi.gama.runtime.AbstractScope.init(AbstractScope.java:485)
	at msi.gama.kernel.experiment.AgentScheduler.init(AgentScheduler.java:127)
	at msi.gama.runtime.AbstractScope.init(AbstractScope.java:485)
	at msi.gama.runtime.FrontEndScheduler.schedule(FrontEndScheduler.java:155)
	at msi.gama.kernel.simulation.SimulationAgent.schedule(SimulationAgent.java:152)
	at msi.gama.metamodel.population.SimulationPopulation.createAgents(SimulationPopulation.java:59)
	at msi.gama.kernel.experiment.ExperimentAgent.createSimulation(ExperimentAgent.java:192)
	at msi.gama.kernel.experiment.ExperimentAgent._init_(ExperimentAgent.java:182)
	at msi.gama.metamodel.agent.GamlAgent.init(GamlAgent.java:120)
	at msi.gama.runtime.AbstractScope.init(AbstractScope.java:485)
	at msi.gama.runtime.FrontEndScheduler.schedule(FrontEndScheduler.java:155)
	at msi.gama.kernel.experiment.ExperimentAgent.schedule(ExperimentAgent.java:238)
	at msi.gama.kernel.experiment.ExperimentPlan.open(ExperimentPlan.java:294)
	at msi.gama.runtime.FrontEndController.processUserCommand(FrontEndController.java:85)
	at msi.gama.runtime.FrontEndController.run(FrontEndController.java:64)
	at java.lang.Thread.run(Unknown Source)

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:51:35.917
!MESSAGE GamaRuntimeException java.lang.IndexOutOfBoundsException: Index: 0, Size: 0

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:51:35.924
!MESSAGE GamaRuntimeException java.lang.IndexOutOfBoundsException: Index: 0, Size: 0
!STACK 0
java.lang.IndexOutOfBoundsException: Index: 0, Size: 0
	at java.util.ArrayList.rangeCheck(Unknown Source)
	at java.util.ArrayList.get(Unknown Source)
	at msi.gama.util.GamaList.get(GamaList.java:360)
	at msi.gama.util.GamaList.getFromIndicesList(GamaList.java:445)
	at msi.gama.metamodel.population.GamaPopulation.getFromIndicesList(GamaPopulation.java:764)
	at msi.gama.metamodel.population.GamaPopulation.getFromIndicesList(GamaPopulation.java:1)
	at msi.gaml.species.AbstractSpecies.getFromIndicesList(AbstractSpecies.java:492)
	at msi.gaml.species.AbstractSpecies.getFromIndicesList(AbstractSpecies.java:1)
	at gaml.additions.GamlAdditions$330.run(GamlAdditions.java:378)
	at msi.gaml.expressions.BinaryOperator.value(BinaryOperator.java:61)
	at msi.gaml.expressions.BinaryOperator.value(BinaryOperator.java:59)
	at msi.gaml.expressions.BinaryOperator.value(BinaryOperator.java:60)
	at msi.gaml.expressions.BinaryOperator.value(BinaryOperator.java:59)
	at msi.gama.outputs.layers.ChartDataStatement$ChartData.getValue(ChartDataStatement.java:114)
	at msi.gama.outputs.layers.ChartLayerStatement.computeSeries(ChartLayerStatement.java:1217)
	at msi.gama.outputs.layers.ChartLayerStatement._step(ChartLayerStatement.java:1107)
	at msi.gama.outputs.layers.AbstractLayerStatement.step(AbstractLayerStatement.java:82)
	at msi.gama.runtime.AbstractScope.step(AbstractScope.java:463)
	at msi.gama.outputs.LayeredDisplayOutput.step(LayeredDisplayOutput.java:458)
	at msi.gama.runtime.AbstractScope.step(AbstractScope.java:463)
	at msi.gama.outputs.AbstractOutputManager.init(AbstractOutputManager.java:164)
	at msi.gama.outputs.SimulationOutputManager.init(SimulationOutputManager.java:50)
	at msi.gama.runtime.AbstractScope.init(AbstractScope.java:485)
	at msi.gama.runtime.FrontEndScheduler.schedule(FrontEndScheduler.java:155)
	at msi.gama.kernel.simulation.SimulationAgent.schedule(SimulationAgent.java:156)
	at msi.gama.metamodel.population.SimulationPopulation.createAgents(SimulationPopulation.java:59)
	at msi.gama.kernel.experiment.ExperimentAgent.createSimulation(ExperimentAgent.java:192)
	at msi.gama.kernel.experiment.ExperimentAgent._init_(ExperimentAgent.java:182)
	at msi.gama.metamodel.agent.GamlAgent.init(GamlAgent.java:120)
	at msi.gama.runtime.AbstractScope.init(AbstractScope.java:485)
	at msi.gama.runtime.FrontEndScheduler.schedule(FrontEndScheduler.java:155)
	at msi.gama.kernel.experiment.ExperimentAgent.schedule(ExperimentAgent.java:238)
	at msi.gama.kernel.experiment.ExperimentPlan.open(ExperimentPlan.java:294)
	at msi.gama.runtime.FrontEndController.processUserCommand(FrontEndController.java:85)
	at msi.gama.runtime.FrontEndController.run(FrontEndController.java:64)
	at java.lang.Thread.run(Unknown Source)

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:51:47.716
!MESSAGE Perspective msi.gama.application.perspectives.ModelingPerspective open 

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:51:50.927
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.DoubleLiteralImpl@1bd126e0 (op: 0.0)

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:51:53.525
!MESSAGE Perspective msi.gama.application.perspectives.SimulationPerspective open 

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:51:54.721
!MESSAGE GamaRuntimeException java.lang.NullPointerException

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:51:54.723
!MESSAGE GamaRuntimeException java.lang.NullPointerException
!STACK 0
java.lang.NullPointerException
	at msi.gama.metamodel.agent.GamlAgent.setDirectVarValue(GamlAgent.java:106)
	at msi.gama.runtime.AbstractScope.setAgentVarValue(AbstractScope.java:667)
	at msi.gaml.expressions.AgentVariableExpression.setVal(AgentVariableExpression.java:34)
	at msi.gaml.statements.SetStatement.privateExecuteIn(SetStatement.java:96)
	at msi.gaml.statements.AbstractStatement.executeOn(AbstractStatement.java:42)
	at msi.gaml.statements.AbstractStatementSequence.privateExecuteIn(AbstractStatementSequence.java:69)
	at msi.gaml.architecture.reflex.ReflexStatement.privateExecuteIn(ReflexStatement.java:57)
	at msi.gaml.statements.AbstractStatement.executeOn(AbstractStatement.java:42)
	at msi.gaml.statements.AbstractStatementSequence.executeOn(AbstractStatementSequence.java:57)
	at msi.gaml.architecture.reflex.ReflexArchitecture.init(ReflexArchitecture.java:83)
	at msi.gama.metamodel.agent.GamlAgent._init_(GamlAgent.java:158)
	at msi.gama.kernel.simulation.SimulationAgent._init_(SimulationAgent.java:194)
	at msi.gama.metamodel.agent.GamlAgent.init(GamlAgent.java:120)
	at msi.gama.runtime.AbstractScope.init(AbstractScope.java:485)
	at msi.gama.kernel.experiment.AgentScheduler.init(AgentScheduler.java:127)
	at msi.gama.runtime.AbstractScope.init(AbstractScope.java:485)
	at msi.gama.runtime.FrontEndScheduler.schedule(FrontEndScheduler.java:155)
	at msi.gama.kernel.simulation.SimulationAgent.schedule(SimulationAgent.java:152)
	at msi.gama.metamodel.population.SimulationPopulation.createAgents(SimulationPopulation.java:59)
	at msi.gama.kernel.experiment.ExperimentAgent.createSimulation(ExperimentAgent.java:192)
	at msi.gama.kernel.experiment.ExperimentAgent._init_(ExperimentAgent.java:182)
	at msi.gama.metamodel.agent.GamlAgent.init(GamlAgent.java:120)
	at msi.gama.runtime.AbstractScope.init(AbstractScope.java:485)
	at msi.gama.runtime.FrontEndScheduler.schedule(FrontEndScheduler.java:155)
	at msi.gama.kernel.experiment.ExperimentAgent.schedule(ExperimentAgent.java:238)
	at msi.gama.kernel.experiment.ExperimentPlan.open(ExperimentPlan.java:294)
	at msi.gama.runtime.FrontEndController.processUserCommand(FrontEndController.java:85)
	at msi.gama.runtime.FrontEndController.run(FrontEndController.java:64)
	at java.lang.Thread.run(Unknown Source)

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:51:55.311
!MESSAGE GamaRuntimeException java.lang.IndexOutOfBoundsException: Index: 0, Size: 0

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:51:55.318
!MESSAGE GamaRuntimeException java.lang.IndexOutOfBoundsException: Index: 0, Size: 0
!STACK 0
java.lang.IndexOutOfBoundsException: Index: 0, Size: 0
	at java.util.ArrayList.rangeCheck(Unknown Source)
	at java.util.ArrayList.get(Unknown Source)
	at msi.gama.util.GamaList.get(GamaList.java:360)
	at msi.gama.util.GamaList.getFromIndicesList(GamaList.java:445)
	at msi.gama.metamodel.population.GamaPopulation.getFromIndicesList(GamaPopulation.java:764)
	at msi.gama.metamodel.population.GamaPopulation.getFromIndicesList(GamaPopulation.java:1)
	at msi.gaml.species.AbstractSpecies.getFromIndicesList(AbstractSpecies.java:492)
	at msi.gaml.species.AbstractSpecies.getFromIndicesList(AbstractSpecies.java:1)
	at gaml.additions.GamlAdditions$330.run(GamlAdditions.java:378)
	at msi.gaml.expressions.BinaryOperator.value(BinaryOperator.java:61)
	at msi.gaml.expressions.BinaryOperator.value(BinaryOperator.java:59)
	at msi.gaml.expressions.BinaryOperator.value(BinaryOperator.java:60)
	at msi.gaml.expressions.BinaryOperator.value(BinaryOperator.java:59)
	at msi.gama.outputs.layers.ChartDataStatement$ChartData.getValue(ChartDataStatement.java:114)
	at msi.gama.outputs.layers.ChartLayerStatement.computeSeries(ChartLayerStatement.java:1217)
	at msi.gama.outputs.layers.ChartLayerStatement._step(ChartLayerStatement.java:1107)
	at msi.gama.outputs.layers.AbstractLayerStatement.step(AbstractLayerStatement.java:82)
	at msi.gama.runtime.AbstractScope.step(AbstractScope.java:463)
	at msi.gama.outputs.LayeredDisplayOutput.step(LayeredDisplayOutput.java:458)
	at msi.gama.runtime.AbstractScope.step(AbstractScope.java:463)
	at msi.gama.outputs.AbstractOutputManager.init(AbstractOutputManager.java:164)
	at msi.gama.outputs.SimulationOutputManager.init(SimulationOutputManager.java:50)
	at msi.gama.runtime.AbstractScope.init(AbstractScope.java:485)
	at msi.gama.runtime.FrontEndScheduler.schedule(FrontEndScheduler.java:155)
	at msi.gama.kernel.simulation.SimulationAgent.schedule(SimulationAgent.java:156)
	at msi.gama.metamodel.population.SimulationPopulation.createAgents(SimulationPopulation.java:59)
	at msi.gama.kernel.experiment.ExperimentAgent.createSimulation(ExperimentAgent.java:192)
	at msi.gama.kernel.experiment.ExperimentAgent._init_(ExperimentAgent.java:182)
	at msi.gama.metamodel.agent.GamlAgent.init(GamlAgent.java:120)
	at msi.gama.runtime.AbstractScope.init(AbstractScope.java:485)
	at msi.gama.runtime.FrontEndScheduler.schedule(FrontEndScheduler.java:155)
	at msi.gama.kernel.experiment.ExperimentAgent.schedule(ExperimentAgent.java:238)
	at msi.gama.kernel.experiment.ExperimentPlan.open(ExperimentPlan.java:294)
	at msi.gama.runtime.FrontEndController.processUserCommand(FrontEndController.java:85)
	at msi.gama.runtime.FrontEndController.run(FrontEndController.java:64)
	at java.lang.Thread.run(Unknown Source)

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:52:52.459
!MESSAGE Perspective msi.gama.application.perspectives.ModelingPerspective open 

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:52:55.757
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.VariableRefImpl@282717fb (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:52:57.867
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.S_ReflexImpl@6407310f (key: reflex, firstFacet: null) (name: shouldHalt)

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:53:01.130
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.VariableRefImpl@31222d9b (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:53:04.244
!MESSAGE Perspective msi.gama.application.perspectives.SimulationPerspective open 

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:53:16.438
!MESSAGE Perspective msi.gama.application.perspectives.ModelingPerspective open 

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:53:18.770
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.VariableRefImpl@14e102a3 (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:53:21.478
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.S_DirectAssignmentImpl@3667a47c (key: <-, firstFacet: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:53:29.228
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.S_ReflexImpl@195671af (key: reflex, firstFacet: null) (name: shouldHalt)

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:53:32.159
!MESSAGE Perspective msi.gama.application.perspectives.SimulationPerspective open 

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:53:35.206
!MESSAGE GamaRuntimeException java.lang.NullPointerException

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:53:35.208
!MESSAGE GamaRuntimeException java.lang.NullPointerException
!STACK 0
java.lang.NullPointerException
	at msi.gama.metamodel.agent.GamlAgent.setDirectVarValue(GamlAgent.java:106)
	at msi.gama.runtime.AbstractScope.setAgentVarValue(AbstractScope.java:667)
	at msi.gaml.expressions.AgentVariableExpression.setVal(AgentVariableExpression.java:34)
	at msi.gaml.statements.SetStatement.privateExecuteIn(SetStatement.java:96)
	at msi.gaml.statements.AbstractStatement.executeOn(AbstractStatement.java:42)
	at msi.gaml.statements.AbstractStatementSequence.privateExecuteIn(AbstractStatementSequence.java:69)
	at msi.gaml.architecture.reflex.ReflexStatement.privateExecuteIn(ReflexStatement.java:57)
	at msi.gaml.statements.AbstractStatement.executeOn(AbstractStatement.java:42)
	at msi.gaml.statements.AbstractStatementSequence.executeOn(AbstractStatementSequence.java:57)
	at msi.gaml.architecture.reflex.ReflexArchitecture.init(ReflexArchitecture.java:83)
	at msi.gama.metamodel.agent.GamlAgent._init_(GamlAgent.java:158)
	at msi.gama.kernel.simulation.SimulationAgent._init_(SimulationAgent.java:194)
	at msi.gama.metamodel.agent.GamlAgent.init(GamlAgent.java:120)
	at msi.gama.runtime.AbstractScope.init(AbstractScope.java:485)
	at msi.gama.kernel.experiment.AgentScheduler.init(AgentScheduler.java:127)
	at msi.gama.runtime.AbstractScope.init(AbstractScope.java:485)
	at msi.gama.runtime.FrontEndScheduler.schedule(FrontEndScheduler.java:155)
	at msi.gama.kernel.simulation.SimulationAgent.schedule(SimulationAgent.java:152)
	at msi.gama.metamodel.population.SimulationPopulation.createAgents(SimulationPopulation.java:59)
	at msi.gama.kernel.experiment.ExperimentAgent.createSimulation(ExperimentAgent.java:192)
	at msi.gama.kernel.experiment.ExperimentAgent._init_(ExperimentAgent.java:182)
	at msi.gama.metamodel.agent.GamlAgent.init(GamlAgent.java:120)
	at msi.gama.runtime.AbstractScope.init(AbstractScope.java:485)
	at msi.gama.runtime.FrontEndScheduler.schedule(FrontEndScheduler.java:155)
	at msi.gama.kernel.experiment.ExperimentAgent.schedule(ExperimentAgent.java:238)
	at msi.gama.kernel.experiment.ExperimentPlan.open(ExperimentPlan.java:294)
	at msi.gama.runtime.FrontEndController.processUserCommand(FrontEndController.java:85)
	at msi.gama.runtime.FrontEndController.run(FrontEndController.java:64)
	at java.lang.Thread.run(Unknown Source)

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:53:35.816
!MESSAGE GamaRuntimeException java.lang.IndexOutOfBoundsException: Index: 0, Size: 0

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:53:35.822
!MESSAGE GamaRuntimeException java.lang.IndexOutOfBoundsException: Index: 0, Size: 0
!STACK 0
java.lang.IndexOutOfBoundsException: Index: 0, Size: 0
	at java.util.ArrayList.rangeCheck(Unknown Source)
	at java.util.ArrayList.get(Unknown Source)
	at msi.gama.util.GamaList.get(GamaList.java:360)
	at msi.gama.util.GamaList.getFromIndicesList(GamaList.java:445)
	at msi.gama.metamodel.population.GamaPopulation.getFromIndicesList(GamaPopulation.java:764)
	at msi.gama.metamodel.population.GamaPopulation.getFromIndicesList(GamaPopulation.java:1)
	at msi.gaml.species.AbstractSpecies.getFromIndicesList(AbstractSpecies.java:492)
	at msi.gaml.species.AbstractSpecies.getFromIndicesList(AbstractSpecies.java:1)
	at gaml.additions.GamlAdditions$330.run(GamlAdditions.java:378)
	at msi.gaml.expressions.BinaryOperator.value(BinaryOperator.java:61)
	at msi.gaml.expressions.BinaryOperator.value(BinaryOperator.java:59)
	at msi.gaml.expressions.BinaryOperator.value(BinaryOperator.java:60)
	at msi.gaml.expressions.BinaryOperator.value(BinaryOperator.java:59)
	at msi.gama.outputs.layers.ChartDataStatement$ChartData.getValue(ChartDataStatement.java:114)
	at msi.gama.outputs.layers.ChartLayerStatement.computeSeries(ChartLayerStatement.java:1217)
	at msi.gama.outputs.layers.ChartLayerStatement._step(ChartLayerStatement.java:1107)
	at msi.gama.outputs.layers.AbstractLayerStatement.step(AbstractLayerStatement.java:82)
	at msi.gama.runtime.AbstractScope.step(AbstractScope.java:463)
	at msi.gama.outputs.LayeredDisplayOutput.step(LayeredDisplayOutput.java:458)
	at msi.gama.runtime.AbstractScope.step(AbstractScope.java:463)
	at msi.gama.outputs.AbstractOutputManager.init(AbstractOutputManager.java:164)
	at msi.gama.outputs.SimulationOutputManager.init(SimulationOutputManager.java:50)
	at msi.gama.runtime.AbstractScope.init(AbstractScope.java:485)
	at msi.gama.runtime.FrontEndScheduler.schedule(FrontEndScheduler.java:155)
	at msi.gama.kernel.simulation.SimulationAgent.schedule(SimulationAgent.java:156)
	at msi.gama.metamodel.population.SimulationPopulation.createAgents(SimulationPopulation.java:59)
	at msi.gama.kernel.experiment.ExperimentAgent.createSimulation(ExperimentAgent.java:192)
	at msi.gama.kernel.experiment.ExperimentAgent._init_(ExperimentAgent.java:182)
	at msi.gama.metamodel.agent.GamlAgent.init(GamlAgent.java:120)
	at msi.gama.runtime.AbstractScope.init(AbstractScope.java:485)
	at msi.gama.runtime.FrontEndScheduler.schedule(FrontEndScheduler.java:155)
	at msi.gama.kernel.experiment.ExperimentAgent.schedule(ExperimentAgent.java:238)
	at msi.gama.kernel.experiment.ExperimentPlan.open(ExperimentPlan.java:294)
	at msi.gama.runtime.FrontEndController.processUserCommand(FrontEndController.java:85)
	at msi.gama.runtime.FrontEndController.run(FrontEndController.java:64)
	at java.lang.Thread.run(Unknown Source)

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:54:32.378
!MESSAGE Perspective msi.gama.application.perspectives.ModelingPerspective open 

!ENTRY org.eclipse.ui 4 4 2015-11-09 21:54:35.600
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.VariableRefImpl@3e53a03 (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 22:00:31.194
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.StringLiteralImpl@571d0e7c (op: halting)

!ENTRY org.eclipse.ui 4 4 2015-11-09 22:00:33.397
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.DoubleLiteralImpl@2f35b0e7 (op: 100.0)

!ENTRY org.eclipse.ui 4 4 2015-11-09 22:00:36.134
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.S_DirectAssignmentImpl@22635ef9 (key: <-, firstFacet: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 22:00:45.196
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.DoubleLiteralImpl@4143229f (op: 146000.0)

!ENTRY org.eclipse.ui 4 4 2015-11-09 22:01:00.414
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 22:01:14.846
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 22:01:15.051
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 22:01:15.548
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 22:01:15.777
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 22:01:16.823
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 22:01:19.205
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 22:01:19.398
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 22:01:20.182
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-09 22:01:24.177
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.IntLiteralImpl@712d34c1 (op: 1)

!ENTRY org.eclipse.ui 4 4 2015-11-09 22:01:27.878
!MESSAGE Perspective msi.gama.application.perspectives.SimulationPerspective open 

!ENTRY org.eclipse.ui 4 4 2015-11-09 22:02:01.532
!MESSAGE GamaRuntimeException java.lang.NullPointerException

!ENTRY org.eclipse.ui 4 4 2015-11-09 22:02:01.534
!MESSAGE GamaRuntimeException java.lang.NullPointerException
!STACK 0
java.lang.NullPointerException
	at msi.gama.metamodel.agent.GamlAgent.setDirectVarValue(GamlAgent.java:106)
	at msi.gama.runtime.AbstractScope.setAgentVarValue(AbstractScope.java:667)
	at msi.gaml.expressions.AgentVariableExpression.setVal(AgentVariableExpression.java:34)
	at msi.gaml.statements.SetStatement.privateExecuteIn(SetStatement.java:96)
	at msi.gaml.statements.AbstractStatement.executeOn(AbstractStatement.java:42)
	at msi.gaml.statements.AbstractStatementSequence.privateExecuteIn(AbstractStatementSequence.java:69)
	at msi.gaml.architecture.reflex.ReflexStatement.privateExecuteIn(ReflexStatement.java:57)
	at msi.gaml.statements.AbstractStatement.executeOn(AbstractStatement.java:42)
	at msi.gaml.statements.AbstractStatementSequence.executeOn(AbstractStatementSequence.java:57)
	at msi.gaml.architecture.reflex.ReflexArchitecture.executeReflexes(ReflexArchitecture.java:73)
	at msi.gaml.architecture.reflex.ReflexArchitecture.executeOn(ReflexArchitecture.java:64)
	at msi.gama.runtime.AbstractScope.execute(AbstractScope.java:384)
	at msi.gama.metamodel.agent.GamlAgent._step_(GamlAgent.java:168)
	at msi.gama.kernel.simulation.SimulationAgent._step_(SimulationAgent.java:179)
	at msi.gama.metamodel.agent.GamlAgent.step(GamlAgent.java:138)
	at msi.gama.runtime.AbstractScope.step(AbstractScope.java:463)
	at msi.gama.metamodel.population.GamaPopulation.step(GamaPopulation.java:142)
	at msi.gama.runtime.AbstractScope.step(AbstractScope.java:463)
	at msi.gama.kernel.experiment.AgentScheduler.step(AgentScheduler.java:96)
	at msi.gama.runtime.AbstractScope.step(AbstractScope.java:463)
	at msi.gama.runtime.FrontEndScheduler.step(FrontEndScheduler.java:83)
	at msi.gama.runtime.FrontEndScheduler.run(FrontEndScheduler.java:122)
	at java.lang.Thread.run(Unknown Source)

!ENTRY org.eclipse.ui 4 4 2015-11-09 22:02:12.875
!MESSAGE Perspective msi.gama.application.perspectives.ModelingPerspective open 

!ENTRY org.eclipse.ui 4 4 2015-11-09 22:02:18.474
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.DoubleLiteralImpl@53a06664 (op: 1.0)

!ENTRY org.eclipse.ui 4 4 2015-11-09 22:02:22.944
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.BooleanLiteralImpl@62a6dbc4 (op: true)

!ENTRY org.eclipse.ui 4 4 2015-11-09 22:02:31.538
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.FunctionImpl@2f9cf440 (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 22:02:41.428
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.ExpressionImpl@1d6d1eef (op: +)

!ENTRY org.eclipse.ui 4 4 2015-11-09 22:02:43.849
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.BlockImpl@6ff28c3

!ENTRY org.eclipse.ui 4 4 2015-11-09 22:02:58.634
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.DoubleLiteralImpl@4ec6024 (op: 140.0)

!ENTRY org.eclipse.ui 4 4 2015-11-09 22:03:01.485
!MESSAGE Perspective msi.gama.application.perspectives.SimulationPerspective open 

!ENTRY org.eclipse.ui 4 4 2015-11-09 22:05:32.160
!MESSAGE Perspective msi.gama.application.perspectives.ModelingPerspective open 

!ENTRY org.eclipse.ui 4 4 2015-11-09 22:05:33.364
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.VariableRefImpl@144772e2 (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 22:05:48.676
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.TypeRefImpl@4b87c1a5 (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 22:05:48.686
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.S_DefinitionImpl@45721c1e (key: null, firstFacet: null) (name: rng)

!ENTRY org.eclipse.ui 4 4 2015-11-09 22:05:59.818
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.S_ExperimentImpl@6637971d (key: experiment, firstFacet: null) (name: graphExp)

!ENTRY org.eclipse.ui 4 4 2015-11-09 22:06:02.399
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.StringLiteralImpl@210574f7 (op: java)

!ENTRY org.eclipse.ui 4 4 2015-11-09 22:06:05.443
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.FacetImpl@40e6136e (name: null) (key: <-)

!ENTRY org.eclipse.ui 4 4 2015-11-09 22:06:06.760
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.DoubleLiteralImpl@4a4e6549 (op: 1.0)

!ENTRY org.eclipse.ui 4 4 2015-11-09 22:06:22.920
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.StatementImpl@75559a0d (key: write, firstFacet: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 22:06:28.695
!MESSAGE Perspective msi.gama.application.perspectives.SimulationPerspective open 

!ENTRY org.eclipse.ui 4 4 2015-11-09 22:06:41.080
!MESSAGE Perspective msi.gama.application.perspectives.ModelingPerspective open 

!ENTRY org.eclipse.ui 4 4 2015-11-09 22:06:44.836
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.DoubleLiteralImpl@43f9beb1 (op: 146000.0)

!ENTRY org.eclipse.ui 4 4 2015-11-09 22:06:51.147
!MESSAGE Perspective msi.gama.application.perspectives.SimulationPerspective open 

!ENTRY org.eclipse.ui 4 4 2015-11-09 22:09:08.215
!MESSAGE Perspective msi.gama.application.perspectives.ModelingPerspective open 

!ENTRY org.eclipse.ui 4 4 2015-11-09 22:09:24.585
!MESSAGE Perspective msi.gama.application.perspectives.SimulationPerspective open 

!ENTRY org.eclipse.ui 4 4 2015-11-09 22:10:35.419
!MESSAGE Perspective msi.gama.application.perspectives.ModelingPerspective open 

!ENTRY org.eclipse.ui 4 4 2015-11-09 22:10:39.769
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.FacetImpl@7098f8bb (name: null) (key: parameter:)

!ENTRY org.eclipse.ui 4 4 2015-11-09 22:10:42.610
!MESSAGE Perspective msi.gama.application.perspectives.SimulationPerspective open 

!ENTRY org.eclipse.ui 4 4 2015-11-09 22:11:11.134
!MESSAGE Perspective msi.gama.application.perspectives.ModelingPerspective open 

!ENTRY org.eclipse.ui 4 4 2015-11-09 22:11:12.990
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.TypeRefImpl@4931578 (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 22:11:12.993
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.S_DefinitionImpl@104770aa (key: null, firstFacet: null) (name: rng)

!ENTRY org.eclipse.ui 4 4 2015-11-09 22:11:23.093
!MESSAGE Perspective msi.gama.application.perspectives.SimulationPerspective open 

!ENTRY org.eclipse.ui 4 4 2015-11-09 22:12:52.991
!MESSAGE Perspective msi.gama.application.perspectives.ModelingPerspective open 

!ENTRY org.eclipse.ui 4 4 2015-11-09 22:12:55.954
!MESSAGE Perspective msi.gama.application.perspectives.SimulationPerspective open 

!ENTRY org.eclipse.ui 4 4 2015-11-09 22:13:09.996
!MESSAGE Perspective msi.gama.application.perspectives.ModelingPerspective open 

!ENTRY org.eclipse.ui 4 4 2015-11-09 22:13:17.639
!MESSAGE Perspective msi.gama.application.perspectives.SimulationPerspective open 

!ENTRY org.eclipse.ui 4 4 2015-11-09 22:13:51.280
!MESSAGE Perspective msi.gama.application.perspectives.ModelingPerspective open 

!ENTRY org.eclipse.ui 4 4 2015-11-09 22:15:06.267
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.S_DefinitionImpl@50770e90 (key: null, firstFacet: null) (name: reset_time)

!ENTRY org.eclipse.ui 4 4 2015-11-09 22:15:20.425
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.VariableRefImpl@7df18d2e (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 22:15:21.160
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.FunctionImpl@5834cf6d (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-09 22:15:25.254
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.DoubleLiteralImpl@24ba4321 (op: 1.0)
!SESSION 2015-11-10 22:14:58.221 -----------------------------------------------
eclipse.buildId=unknown
java.version=1.8.0_60
java.vendor=Oracle Corporation
BootLoader constants: OS=win32, ARCH=x86_64, WS=win32, NL=${target.nl}
Command-line arguments:  -os win32 -ws win32 -arch x86_64 -data @noDefault

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:15:01.648
!MESSAGE Unable to create menu item "org.eclipse.ui.update.findAndInstallUpdates", command "org.eclipse.ui.update.findAndInstallUpdates" not defined

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:15:01.771
!MESSAGE Unable to create menu item "org.eclipse.ui.update.manageConfiguration", command "org.eclipse.ui.update.manageConfiguration" not defined

!ENTRY org.apache.log4j 2 0 2015-11-10 22:15:02.121
!MESSAGE org.eclipse.xtext.ui.shared.internal.Activator  - Disabling JDT use. : org/eclipse/jdt/core/JavaCore


!ENTRY org.apache.log4j 2 0 2015-11-10 22:15:02.298
!MESSAGE org.eclipse.xtext.ui.shared.internal.Activator  - Disabling JDT use. : org/eclipse/jdt/core/JavaCore


!ENTRY org.eclipse.ui 4 4 2015-11-10 22:15:48.165
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.BlockImpl@519e44b9

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:18:04.632
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.VariableRefImpl@54760f49 (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:18:07.600
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.FunctionImpl@52affba6 (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:18:10.820
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.IntLiteralImpl@5e429458 (op: 2)

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:18:14.808
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.ExpressionListImpl@485aa5a3 (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:18:18.556
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:18:20.718
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:18:29.633
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.BinaryImpl@849c633 (op: count)

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:18:36.012
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:18:36.965
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:18:41.521
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.VariableRefImpl@73e0ce31 (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:18:45.428
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:18:46.631
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.VariableRefImpl@6652572c (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:18:49.312
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.BinaryImpl@293b3395 (op: where)

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:18:50.413
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:18:51.827
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:18:53.175
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:18:54.222
!MESSAGE Infinite recursion detected in completion proposal for org.eclipse.xtext.impl.GroupImpl@2b0d85bd (cardinality: *, predicated: false)

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:18:55.540
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:19:00.117
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:19:02.369
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:19:06.475
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.VariableRefImpl@34398dd1 (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:20:21.972
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.VariableRefImpl@34398dd1 (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:20:50.467
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.VariableRefImpl@3dc18c55 (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:20:51.732
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:20:52.326
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:20:53.764
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.ArrayImpl@3964ed35 (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:21:09.214
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.BinaryImpl@736755df (op: count)

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:21:14.651
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.S_ReflexImpl@1bac75b6 (key: reflex, firstFacet: null) (name: evaluation)

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:21:16.307
!MESSAGE Perspective msi.gama.application.perspectives.SimulationPerspective open 

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:23:04.096
!MESSAGE Perspective msi.gama.application.perspectives.ModelingPerspective open 

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:23:08.205
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.FunctionImpl@18dafb4a (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:23:15.924
!MESSAGE Perspective msi.gama.application.perspectives.SimulationPerspective open 

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:24:03.396
!MESSAGE Perspective msi.gama.application.perspectives.ModelingPerspective open 

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:24:16.995
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.ExpressionListImpl@fa7d4ab (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:24:17.761
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.ExpressionListImpl@1ee3ca30 (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:24:48.382
!MESSAGE Perspective msi.gama.application.perspectives.SimulationPerspective open 

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:25:21.350
!MESSAGE Perspective msi.gama.application.perspectives.ModelingPerspective open 

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:25:32.075
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:25:34.872
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:25:42.705
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:26:41.695
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.ExpressionListImpl@7fadd1c5 (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:26:43.664
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.VariableRefImpl@7c7e07e3 (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:26:52.494
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.VariableRefImpl@635329d3 (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:26:56.993
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.VariableRefImpl@3df8ad86 (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:27:06.084
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.BinaryImpl@72571491 (op: where)

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:27:36.064
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.DoubleLiteralImpl@7ed4faad (op: 146000.0)

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:27:46.900
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:27:47.588
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:27:49.430
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:28:05.472
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.IntLiteralImpl@709c73e3 (op: 1)

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:28:14.937
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.FacetImpl@d24540b (name: null) (key: parameter:)

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:28:30.039
!MESSAGE GamlJavaValidator.validate

!ENTRY org.apache.log4j 4 0 2015-11-10 22:28:43.991
!MESSAGE org.eclipse.xtext.ui.editor.model.DocumentPartitioner  - Detected unexpected state in document partitioner. Please file a bug with the following information attached:
Document content after the event was applied:
>>>/**
 *  Model_5.1
 *  Author: Alessandro
 *  Description: 
 */

model Model51

/* Insert your model definition here */
global
{
	file shape_file_cinema <- file("../includes/ridottissimo/cinema_geo.shp");
	file shape_file_sport_center <- file("../includes/ridottissimo/impianti_sportivi_geo.shp");
	file shape_file_museum <- file("../includes/ridottissimo/musei_geo.shp");
	file shape_file_hospital <- file("../includes/ridottissimo/ospedali_geo.shp");
	file shape_file_school <- file("../includes/ridottissimo/scuole2.shp");
	file shape_file_ASL <- file("../includes/ridottissimo/sedi_asl_geo2.shp");
	file shape_file_university <- file("../includes/ridottissimo/universita_geo.shp");
	file shape_file_theater <- file("../includes/ridottissimo/teatri_geo.shp");
	file shape_file_stops <- file("../includes/ridottissimo/transport_points_4.shp");

	file csv_edges_list <- csv_file("../includes/ultimate_edges_list_ext_noint.csv", ",");
	matrix edge_list_matrix <- matrix(csv_edges_list); //utile per il ciclo di assegnazione

	file csv_orario <- csv_file("../includes/orari.csv", ",");
	matrix<int> orario <- matrix<int> (csv_orario);

	file csv_affinity <- csv_file("../includes/affinity.csv", ",");
	matrix<float> affinity <- matrix<float> (csv_affinity);

	file csv_mobility <- csv_file("../includes/mobility3.csv", ",");
	matrix<float> mobility <- matrix<float> (csv_mobility);

	file csv_raggiungibile <- csv_file("../includes/ridottissimo/raggiungibili.csv", ",");
	matrix<int> raggiungibili <- matrix<int> (csv_raggiungibile);

	file csv_pesi <- csv_file("../includes/ridottissimo/pesi.csv", ";");
	matrix<int> Pesi <- matrix<int> (csv_pesi);

	file csv_betweenness <- csv_file("../includes/ridottissimo/betweenness.csv", ",");
	matrix<float> bwn <- matrix<float> (csv_betweenness);

	graph grafo;
	int fascia_oraria update: int(time / 4) mod 10;
	int macro_fascia update: int(time / 10) mod 4;
	int day update: int(time / 40) + 1;
	int multa;
//	bool salva <- true update:(time < 2000?((time mod 150 =0)? true:false):((time mod 800 =0)? true:false));
	int n_controllori;
	int n_passenger<-15000;
	float ticket;
	float dimenticanza <- 0.9862327;
	float dimenticanza2 <- 0.9986;
	float abbonamento;
	float betw_max;
	float scala;
	int index <- 0;
	float reset_time <- 146.0;
	list<bus_stop> active_stops;
	string salvataggio <- "./exports/09_11/";
	reflex doomsday when: time = reset_time
	{
		index <- index +1;
		ask wedge
		{
			penality <- 1.0;
			avg_penality <- list_with(4, 1.0);
			score<-0.0;
			avg_score <- list_with(4, 0.0);
		}
		ask passenger
		{
			flag_abbonamento <- false;
			avg_risk <- 0.0;
			num_viaggi <- 0.0;
//			avg_risk_balance <- 0.0;
			viaggi <- 0.0 as_matrix ({ 5, 3 });
			risk <- 0.0 as_matrix ({ 5, 3 });
			titolo_viaggio<-0;
		}
		ask GTKIRA
		{
			target_list <- list_with(4, n_controllori among wedge);
			utility <- 0.0;
			total_risk <- 0.0;
		}
		ask Smith
		{
			score <- list_with(4, 0);
			loop macro_fascia2 from: 0 to: 3
			{
				do acquire_new_targets(macro_fascia2, true);
			}
		}
		write "reset_globale";
		time <- 0.0;
	}
	reflex shouldHalt when: cycle = 10*reset_time
	{
		write "halting";
    	do halt;
	}
	init
	{
		//write fit_abbonamento;
		index<-0;
		n_controllori <- 4;
		multa <- 50;
		fascia_oraria <- 0;
		ticket <- 1.5;
		abbonamento <- 40.0;
		scala <- 29782 / n_passenger; //RIDOTTISSIMO 56239 RIDOTTO 320000
		create building from: shape_file_cinema with: [type:: 0, id::int(read("ID_CINEMA")) - 1, location::{ float(read("XCOORD")) / 100, float(read("YCOORD")) / 100, 0 }];
		create building from: shape_file_sport_center with: [type:: 1, id::int(read("ID_R_IMP_T")) + 47, location::{ float(read("XCOORD")) / 100, float(read("YCOORD")) / 100, 0 }];
		create building from: shape_file_museum with: [type:: 2, id::int(read("ID_TIPOPTO")) + 749, location::{ float(read("XCOORD")) / 100, float(read("YCOORD")) / 100, 0 }];
		create building from: shape_file_hospital with: [type:: 3, id::int(read("ID_OSPEDAL")) + 834, location::{ float(read("XCOORD")) / 100, float(read("YCOORD")) / 100, 0 }];
		create building from: shape_file_school with: [type:: 4, id::int(read("ID_PT_INGR")) + 796, location::{ float(read("XCOORD")) / 100, float(read("YCOORD")) / 100, 0 }];
		create building from: shape_file_ASL with: [type:: 5, id::int(read("ID_ASL")) + 1493, location::{ float(read("XCOORD")) / 100, float(read("YCOORD")) / 100, 0 }];
		create building from: shape_file_university with: [type:: 6, id::int(read("ID_UNIVERS")) + 1504, location::{ float(read("XCOORD")) / 100, float(read("YCOORD")) / 100, 0 }];
		create building from: shape_file_theater with: [type:: 7, id::int(read("ID_R_PUNTO")) + 1537, location::{ float(read("XCOORD")) / 100, float(read("YCOORD")) / 100, 0 }];
		create bus_stop from: shape_file_stops with: [code::int(read("ref")), location::{ float(read("XCOORD")) / 100 - 8460, float(read("YCOORD")) / 100 - 56300, 0
		}, fattore_scelta::list_with(6, 0.0)];
		write "bus_stop creati";
		create passenger number: n_passenger
		{
			bus_stop locazione <- one_of(bus_stop);
			the_target <- one_of(bus_stop);
			location <- locazione.location;
			fermata <- locazione;
			type <- rnd(5);
			risk <- 0.00 as_matrix ({ 5, 3 }); //colonne:saturation_index, righe:betweenness
			avg_mobility <- mean(list<float> (rows_list(mobility)[type]));
		}

		write "passenger creati";
		loop j from: 0 to: length(rows_list(edge_list_matrix)) - 1
		{
//			int arrivo2 <- int(edge_list_matrix[1, j]);
//			int partenza2 <- int(edge_list_matrix[0, j]);
			if ((bus_stop where (each.code = int(edge_list_matrix[0, j]))) != [] and (bus_stop where (each.code = int(edge_list_matrix[1, j]))) != [])
			{
				create wedge
				{
					arrivo <- (bus_stop where (each.code = int(edge_list_matrix[1, j])))[0];
					partenza <- (bus_stop where (each.code = int(edge_list_matrix[0, j])))[0];
					peso <- (int(edge_list_matrix[2, j]));
					shape <- line([partenza.location, arrivo.location],0.15);
					popolazione_old <- rnd(30);
				}

			}

		}

		write "wedge creati";
		grafo <- directed(as_edge_graph(wedge));
		ask wedge
		{
			do set_betweenness;
		}

		write "inizializzazione variabili bus_stop";
		betw_max <- max(wedge collect each.btw);

		// set_appeal_matrix lo faccio qui e non nell'init della specie perchè alla fine dell'init cancello 
		ask bus_stop
		{
			do set_appeal_matrix;
		}

		write "inizio raggiungibili";
		ask bus_stop
		{
			do set_raggiungibili;
			do trova_vicini_geografici;
			do trova_out_edges;
			list_raggiungibili <- list_raggiungibili - [0];
			stop_raggiungibili <- bus_stop where (each.code in list_raggiungibili); //assegnazione reale
			list_raggiungibili <- nil;
		} //se scommenti questa ricorda di andare a rimuovere l'if nel reflex movimento, ogni fermata nella lista allora sarà raggiungibile
		write "removing duplicates";
		write "fine raggiugibili";
		Pesi <- nil;
		raggiungibili <- nil;
		edge_list_matrix <- nil;
		create GTKIRA;
		active_stops <- bus_stop where(each.stop_raggiungibili != [each]);
	}
}

species building
{
	int id;
	int type;
	aspect base
	{
		draw square(2) color: # red;
	}

}

species bus_stop
{

	int code; //codice fermata
	int popolazione_old update: popolazione;
	int popolazione;
	list<wedge> out_edges;
	list<bus_stop> vicini_geo;
	list<int> list_raggiungibili;
	list<bus_stop> stop_raggiungibili;
	list<float> fattore_scelta; //exp (-popolazione/proiezione) per ogni tipo di utente (lista 6 float)
	matrix<int> appeal_matrix <- 0 as_matrix ({ 10, 6 }); //Matrice di contenimento dei pesi definiti da fascia e utente
	action set_raggiungibili
	{
		self.list_raggiungibili <- list<int> (rows_list(raggiungibili) first_with (each[0] = self.code));
	}

	action trova_out_edges
	{
		out_edges <- (wedge where (each.partenza = self));
	}

	action trova_vicini_geografici
	{
		vicini_geo <- bus_stop where (each distance_to self < 2.5);
	}

	action set_appeal_matrix
	{
		int riga <- int(columns_list(Pesi)[0] first_with (each = self.code));
		loop colonna from: 1 to: 10
		{
			loop riga_int from: 1 to: 6
			{
				self.appeal_matrix[colonna - 1, riga_int - 1] <- Pesi[colonna, riga + riga_int];
			}

		}

	}

	reflex update_fattore_scelta
	{
	//ho creato un vettore con exp (-popolazione/proiezione[tipo, ora] per ogni tipo)
		fattore_scelta <- columns_list(appeal_matrix)[fascia_oraria] collect (exp(-popolazione_old / (int((each)) + 0.00001)) + 0.0001);
		popolazione <- 0;
	}

	aspect base
	{
		draw square(1.5) color: # pink;
	}

}

species wedge
{
	init
	{
		fascia_btwn <- min([2,int(self.btw * 3 / betw_max)]);
	}

	int popolazione_old update: popolazione; //eseguito prima del riflesso: il valore di popolazione viene salvato qui//**new
	int popolazione; //agenti che viaggiano sull'edge. Posto a 0 ogni inizio turno dal reflex (così viene posto a 0 dopo che popolazione_old copia il valore)
	bus_stop partenza;
	bus_stop arrivo;
	float penality <- 1.0 update: 1.0;
	list<float> avg_penality <- list_with(4, 1.0);
	float btw;
	int fascia_btwn max:4;
	float score;
	list<float> avg_score <- list_with(4, 0.0);
	int peso;
	int saturation_index max:4; // update: min([3,int(48*popolazione/25*peso)]);											
	aspect base
	{
		draw shape color:(penality=1.0? #black:#red);
	}

	reflex update_variables
	{
		saturation_index <- int(floor(48*4*(scala/100)) * (self.popolazione_old / self.peso)); //vale per ridottissimo
		score <- (btw / betw_max) ^ (1.0 / 3.0) * popolazione_old / (exp(2.131 * saturation_index) + 1);
		popolazione <- 0;
		avg_score[macro_fascia] <- avg_score[macro_fascia] + score / 70;
		//lo score medio viene valutato ogni 280 step, quindi aggiungo lo score già diviso per 280
	}

	action set_betweenness
	{ //se la trovalasua
		self.btw <- float((rows_list(bwn) where ((each[0]) = float(wedge index_of self)))[0][1]);
	}

}

species passenger skills: [moving]
{
	bus_stop the_target;
	bus_stop fermata;
	bool flag_abbonamento <- false;
	bool flag_movimento <- false update: false;
	float avg_risk <- 0.0;
//	float avg_risk_balance <- 0.0 update:0.0;//misura di quanto è cambiato il rischio medio nell'ultimo turno				**NEW
	float avg_mobility;
	float num_viaggi <- 0.0;
	matrix<float> viaggi <- 0.0 as_matrix ({ 5, 3 });	
	matrix<float> risk;
	int type;
	int titolo_viaggio min: 0 update: titolo_viaggio - 1;
	int travel_mode update: 3; // 0-> viaggio alternativo; 1 -> viaggio senza ticket; 2-> viaggio con ticket; 3 -> il flip (mobility) ha dato croce)
	path percorso <- path(0) update: path(0); //ogni inizio turno il percorso va azzerato!

	reflex decisione_abbonamento when: (every(40) and titolo_viaggio < 40) //**new
	{
		if (1200*self.avg_mobility*min([(self.avg_risk/max([1,self.num_viaggi]))*multa,ticket]) > abbonamento) //AGGIUNGERE GAUSSIANA
		{
			titolo_viaggio <- 1200;
			GTKIRA[0].utility <- GTKIRA[0].utility + abbonamento; //utility i soldi
			flag_abbonamento <- true;
		} 
		else
		{
			flag_abbonamento <- false;
		}

	}
	//40% in più della tua mobility che tu ti muova
	reflex movimento when: flip((1 + 0.4 * signum(titolo_viaggio)) * mobility[fascia_oraria, type])
	{
		flag_movimento <- true;
		if fermata = bus_stop[147] or bus_stop[431] or bus_stop[430] or bus_stop[285] or bus_stop[143] or bus_stop[406]
		{
			fermata <- any(bus_stop);
			location <- fermata.location;
		}

		fermata <- (fermata.vicini_geo)[rnd_choice(fermata.vicini_geo collect each.fattore_scelta[type])]; //scelta fermata tra i vicini
		if (fermata in active_stops)
		{
			the_target <- (fermata.stop_raggiungibili-fermata)[rnd_choice((fermata.stop_raggiungibili - fermata) collect each.fattore_scelta[type])]; //scelta meta viaggio
		}
		else
		{
//			write "inactive";
			fermata <- any(active_stops);
			the_target <- (fermata.stop_raggiungibili-fermata)[rnd_choice((fermata.stop_raggiungibili - fermata) collect each.fattore_scelta[type])];
		}
		percorso <- path_between(grafo, fermata.location, the_target.location);
		  //1 - prob che non ti controlli nessuno
		float risk_max <- 1 - mul(list<wedge> (percorso.edges) collect (1 - (risk[each.saturation_index, each.fascia_btwn] / (max([1,viaggi[each.saturation_index, each.fascia_btwn]])))));
/*NEW */float avg_risk_old <- avg_risk/max([1,num_viaggi]); //occhio: è già diviso per numero viaggi				   **NEW
		avg_risk <- dimenticanza * avg_risk + risk_max;
		num_viaggi <- num_viaggi * dimenticanza + 1;
/*NEW *///avg_risk_balance <- avg_risk/num_viaggi - avg_risk_old; //positivo: rischio medio aumentato, negativo: rischio diminuito
		list<float> utility <- list_with(3, 0.0);
		utility[0] <- exp(-length(percorso.edges)); //NV
		utility[1] <- 1 - exp(-length(percorso.edges) / (risk_max * multa + 0.001)); //VST
		utility[2] <- 1 - exp(-length(percorso.edges) / ticket) + self.titolo_viaggio; //VCT <- aggiungere bonus abbonamento?
		travel_mode <- utility index_of (max(utility)); //l'utility massima viene assegnata a travel_mode
		
		if (travel_mode = 2 and titolo_viaggio = 0)
		{
			self.titolo_viaggio <- 3;
			GTKIRA[0].utility <- GTKIRA[0].utility + ticket;
		}
		if (travel_mode != 0)
		{
			ask list<wedge> (percorso.edges)
			{
				popolazione <- popolazione + 1;
			}
				loop edgesi over: percorso.edges
				{
					risk[wedge(edgesi).saturation_index, wedge(edgesi).fascia_btwn] <- dimenticanza2 * risk[wedge(edgesi).saturation_index, wedge(edgesi).fascia_btwn];
					viaggi[wedge(edgesi).saturation_index, wedge(edgesi).fascia_btwn] <- dimenticanza2 * viaggi[wedge(edgesi).saturation_index, wedge(edgesi).fascia_btwn] + 1;
				}
			}

			fermata <- the_target;
			location <- fermata.location;
			fermata.popolazione <- fermata.popolazione + 1;
	}
	aspect base
	{
		if (travel_mode != 3)
		{
			draw sphere(0.75) color: travel_mode != 1 ? # yellow : # tan;
		}

	}

}

species GTKIRA
{
	list<list<wedge>> target_list <- list_with(4, n_controllori among wedge);
	float utility;
	float total_risk <- 0.0 update: sum(passenger collect (each.avg_risk/max([each.num_viaggi,1]))); 					   //NEW!
//	float risk_balance <- 0.0 update: risk_balance + sum(passenger collect each.avg_risk_balance);
	action update_target_list(int macro_fascia1)
	{
			target_list[macro_fascia1] <- copy_between(wedge sort_by (-each.avg_score[macro_fascia1]*each.avg_penality[macro_fascia1]), 0, 10 * n_controllori);
	}

	reflex creation when: time = 0 and index =0
	{
		write "controllori creati";
		create Smith number: n_controllori;
	}
	
	reflex evaluation when: every(280)
	{
		utility <- utility - n_controllori * 625;
	 //considerando un costo mensile di 2500€ a controllore, la GTT versa 625€ a controllore a settimana
		save
		[
			time,
			length(passenger where (each.travel_mode = 2)) * 100 / max([1,(length(passenger where(each.flag_movimento = true)))]), 
			length(passenger where (each.travel_mode = 1)) * 100 / max([1,(length(passenger where(each.flag_movimento = true)))]), 
			length(passenger where (each.travel_mode = 0)) * 100 / max([1,(length(passenger where(each.flag_movimento = true)))]),
			length(passenger where (each.flag_movimento = true)) * 100 / n_passenger,
			passenger count (each.flag_abbonamento = true),
			total_risk
		]
		 to:(salvataggio +"ticket_trend_b_"+  n_passenger +"_"+index + ".csv") type: "csv";
		ask wedge
		{
			penality <- 1.0;
			avg_penality <- avg_penality collect (each > 0.9 ? 1.0 : each + 0.1); //list_with(4, 1.0);
		}
		loop macro_fascia3 from: 0 to: 3
		//questo loop aggiunge penalità ai wedge controllati che non cambieranno e dà nuovi targets
		{
			ask Smith where (each.score[macro_fascia3] > mean(Smith collect each.score[macro_fascia3]))
			//bisogna che i target che non cambiano (quelli dei controllori migliori) conservino la penalità nello score! altrimenti si finirà per assegnare gli
			//stessi target ai controllori in settimane diverse. Questo ask chiede ai controllori migliori di aggiungere penalità ai wedge che loro controllavano
			//(e che continueranno a controllare)
			{
				ask wedge where (each = targets[macro_fascia3])
				{
					ask wedge at_distance 1.0
					{
						avg_penality[macro_fascia3] <- max([avg_penality[macro_fascia3] - 0.5, 0.0]);
					}

				}

			}
			//Muove smith scarsi
			ask Smith where (each.score[macro_fascia3] <= mean(Smith collect each.score[macro_fascia3]))
			{
				ask wedge where (each = targets[macro_fascia3]) //Aggiungo penalità ai wedge che hanno reso poco
				{
					avg_penality[macro_fascia3] <- max([avg_penality[macro_fascia3] - 0.5, 0.0]);
				}
				if flip(0.5)
				{
					do acquire_new_targets(macro_fascia3, true);
				} 
				else
				{
					do acquire_new_targets(macro_fascia3, false);
				}

			}
			do update_target_list(macro_fascia3);
		}

		ask Smith
		{
			score <- list_with(4, 0);
		}

		ask wedge
		{
			avg_score <- list_with(4, 0.0);
		}
	}

	action crea_agente_smith
	{
		create Smith;
	}

}

species Smith

{
	init
	{
		loop macro_fascia2 from: 0 to: 3
		{
			do acquire_new_targets(macro_fascia2, true);
		}
	}

	list<int> score <- list_with(4, 0);
	list<wedge> percorso;
	list<wedge> targets <- list_with(4, wedge(0));
	action acquire_new_targets (int a, bool random) //a è la macrofascia oraria per cui va acquisito il nuovo target 
	{
		if random = false {targets[a] <- GTKIRA[0].target_list[a][0];}
		else {targets[a] <- any(wedge where (each.avg_penality[a] = 1.0)); }
		ask targets[a]
		{
			avg_penality[a] <- max([avg_penality[a] - 0.9, 0.0]);
			ask wedge at_distance 1.0
			{
				avg_penality[a] <- max([avg_penality[a] - 0.5, 0.0]);
			}
		}
		ask GTKIRA[0]{do update_target_list(a);}
	}

	reflex turn_shift when: (cycle mod 10 = 0)
	{
		location <- targets[macro_fascia].location;
	}

	reflex movimento 

	{
		float path_score <- targets[macro_fascia].score;
		float path_score_max <- path_score;
		list<wedge> available <- [];
		loop fermate over: targets[macro_fascia].arrivo.vicini_geo
		{
			available <- available + fermate.out_edges;
		}

		loop wedge2 over: copy_between(available sort_by (-each.score * each.penality), 0, min([3, length(available)]))
		{
			path_score <- path_score + wedge2.score * wedge2.penality;
			list<wedge> available2 <- [];
			loop fermate over: wedge2.arrivo.vicini_geo
			{
				available2 <- available2 + fermate.out_edges;
			}

			loop wedge3 over: copy_between(available2 sort_by (-each.score * each.penality), 0, min([3, length(available2)]))
			{
				path_score <- path_score + wedge3.score * wedge3.penality;
				list<wedge> available3 <- [];
				loop fermate over: wedge3.arrivo.vicini_geo
				{
					available3 <- available3 + fermate.out_edges;
				}

				loop wedge4 over: copy_between(available3 sort_by (- each.score * each.penality), 0, min([3, length(available3)]))
				{
					path_score <- path_score + wedge4.score * wedge4.penality;
					list<wedge> available4 <- [];
					loop fermate over: wedge4.arrivo.vicini_geo
					{
						available4 <- available4 + fermate.out_edges;
					}

					loop wedge5 over: copy_between(available4 sort_by (- each.score * each.penality), 0, min([3, length(available4)]))
					{
						path_score <- path_score + wedge5.score * wedge5.penality;
						list<wedge> available5 <- [];
						loop fermate over: wedge5.arrivo.vicini_geo
						{
							available5 <- available5 + fermate.out_edges;
						}

						loop wedge6 over: copy_between(available5 sort_by (- each.score * each.penality), 0, min([3, length(available5)]))
						{
							path_score <- path_score + wedge6.score * wedge6.penality;
							list<wedge> available6 <- [];
							loop fermate over: wedge6.arrivo.vicini_geo
							{
								available6 <- available6 + fermate.out_edges;
							}

							loop wedge7 over: copy_between(available6 sort_by (- each.score * each.penality), 0, min([3, length(available6)]))
							{
								path_score <- path_score + wedge7.score * wedge7.penality;
								if (path_score > path_score_max)
								{
									percorso <- [targets[macro_fascia]] + [wedge2] + [wedge3] + [wedge4] + [wedge5] + [wedge6] + [wedge7];
									path_score_max <- path_score;
								}

							}

						}

					}

				}

			}

		}

		ask wedge where (each in self.percorso) //penalizzazione wedge già percorsi

		{
			self.penality <- 0.5 * self.penality;
		}

		ask GTKIRA[0] //riordino la lista di target dopo le penalizzazioni

		{
			self.target_list[macro_fascia] <- self.target_list[macro_fascia] sort_by (-each.avg_score[macro_fascia]);
		}

	}

	reflex verification
	{
		list<list<int>> morosi <- nil;
		loop edge over: percorso
		{//popolazione/peso sono gli agenti che erano su quell'edge. Peso va diviso per 2
			
			ask (int(48*edge.popolazione/edge.peso)) among passenger where (each.flag_movimento = true and edge in each.percorso.edges)
			{
				morosi <- morosi + (passenger where (each.flag_movimento = true and edge in each.percorso.edges and each.titolo_viaggio=0)) collect [int(each), int(edge)];
				self.risk[edge.saturation_index, edge.fascia_btwn] <- min([self.risk[edge.saturation_index, edge.fascia_btwn] + 1,self.viaggi[edge.saturation_index, edge.fascia_btwn]]);
			}
		}
		self.score[macro_fascia] <- self.score[macro_fascia] + multa*min([4,length(morosi)]);
		GTKIRA[0].utility <- GTKIRA[0].utility + multa*min([4,length(morosi)]);
		ask 4 among morosi collect (passenger[each[0]])
		{
			wedge edge <- wedge[(morosi first_with (each[0]=passenger index_of self))[1]];
			ask (3 among passenger)
			{
				self.risk[edge.saturation_index, edge.fascia_btwn] <- min([self.risk[edge.saturation_index, edge.fascia_btwn] + 0.5,self.viaggi[edge.saturation_index, edge.fascia_btwn]]);
				self.viaggi[edge.saturation_index, edge.fascia_btwn]<-1+ self.viaggi[edge.saturation_index, edge.fascia_btwn];
			}
			//self.risk[edge.saturation_index, edge.fascia_btwn] <- 1+self.risk[edge.saturation_index, edge.fascia_btwn];
			self.titolo_viaggio <- 3;
			self.travel_mode <- 2;
		}
	}

	aspect base
	{
		draw sphere(0.85) color: # green;
	}

}

experiment graphExp type: gui
{
	string rng <- 'java';
	float seed <- 1.0 update: 1;
	output
	{

		display graphView type: opengl
		{
//			species bus_stop aspect: base;
            species wedge aspect: base;
            species passenger aspect:base;
			species Smith aspect: base;
			//                  species building aspect:base;
		}
	    display chart refresh_every: 1 																					//NEW
	    {
			chart "Charles_the_chart" type: series background: rgb("lightGray") style: exploded 
			{
				data "Risk (magnified 10x)" value: 10*GTKIRA[0].total_risk/n_passenger color: rgb("red");
				data "Abbonati" value:length(passenger where (each.titolo_viaggio > 3))/ n_passenger  color: rgb("green");
			}
		}
	}

}
experiment stabilita type: batch repeat: 4 until: n_controllori >10 keep_seed: false {}

<<<
Document event: offset: 21884, length: 1, timestamp: 140
text:><



!ENTRY org.eclipse.ui 4 4 2015-11-10 22:28:44.788
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:28:53.446
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:28:56.466
!MESSAGE Perspective msi.gama.application.perspectives.SimulationPerspective open 

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:30:56.166
!MESSAGE GamaRuntimeException java.lang.NullPointerException

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:30:56.182
!MESSAGE GamaRuntimeException java.lang.NullPointerException
!STACK 0
java.lang.NullPointerException
	at msi.gama.metamodel.agent.GamlAgent.setDirectVarValue(GamlAgent.java:106)
	at msi.gama.runtime.AbstractScope.setAgentVarValue(AbstractScope.java:667)
	at msi.gaml.expressions.AgentVariableExpression.setVal(AgentVariableExpression.java:34)
	at msi.gaml.statements.AbstractContainerStatement.privateExecuteIn(AbstractContainerStatement.java:230)
	at msi.gaml.statements.AbstractStatement.executeOn(AbstractStatement.java:42)
	at msi.gaml.statements.AbstractStatementSequence.privateExecuteIn(AbstractStatementSequence.java:69)
	at msi.gaml.statements.LoopStatement.loopBody(LoopStatement.java:133)
	at msi.gaml.statements.LoopStatement$Over.runIn(LoopStatement.java:195)
	at msi.gaml.statements.LoopStatement.privateExecuteIn(LoopStatement.java:125)
	at msi.gaml.statements.AbstractStatement.executeOn(AbstractStatement.java:42)
	at msi.gaml.statements.AbstractStatementSequence.executeOn(AbstractStatementSequence.java:57)
	at msi.gaml.statements.AbstractStatementSequence.privateExecuteIn(AbstractStatementSequence.java:69)
	at msi.gaml.statements.IfStatement.privateExecuteIn(IfStatement.java:78)
	at msi.gaml.statements.AbstractStatement.executeOn(AbstractStatement.java:42)
	at msi.gaml.statements.AbstractStatementSequence.executeOn(AbstractStatementSequence.java:57)
	at msi.gaml.statements.AbstractStatementSequence.privateExecuteIn(AbstractStatementSequence.java:69)
	at msi.gaml.architecture.reflex.ReflexStatement.privateExecuteIn(ReflexStatement.java:57)
	at msi.gaml.statements.AbstractStatement.executeOn(AbstractStatement.java:42)
	at msi.gaml.statements.AbstractStatementSequence.executeOn(AbstractStatementSequence.java:57)
	at msi.gaml.architecture.reflex.ReflexArchitecture.executeReflexes(ReflexArchitecture.java:73)
	at msi.gaml.architecture.reflex.ReflexArchitecture.executeOn(ReflexArchitecture.java:64)
	at msi.gama.runtime.AbstractScope.execute(AbstractScope.java:384)
	at msi.gama.metamodel.agent.GamlAgent._step_(GamlAgent.java:168)
	at msi.gama.metamodel.agent.GamlAgent.step(GamlAgent.java:138)
	at msi.gama.runtime.AbstractScope.step(AbstractScope.java:463)
	at msi.gama.metamodel.population.GamaPopulation.step(GamaPopulation.java:142)
	at msi.gama.runtime.AbstractScope.step(AbstractScope.java:463)
	at msi.gama.metamodel.agent.GamlAgent.stepSubPopulations(GamlAgent.java:179)
	at msi.gama.metamodel.agent.GamlAgent._step_(GamlAgent.java:170)
	at msi.gama.kernel.simulation.SimulationAgent._step_(SimulationAgent.java:179)
	at msi.gama.metamodel.agent.GamlAgent.step(GamlAgent.java:138)
	at msi.gama.runtime.AbstractScope.step(AbstractScope.java:463)
	at msi.gama.metamodel.population.GamaPopulation.step(GamaPopulation.java:142)
	at msi.gama.runtime.AbstractScope.step(AbstractScope.java:463)
	at msi.gama.kernel.experiment.AgentScheduler.step(AgentScheduler.java:96)
	at msi.gama.runtime.AbstractScope.step(AbstractScope.java:463)
	at msi.gama.runtime.FrontEndScheduler.step(FrontEndScheduler.java:83)
	at msi.gama.runtime.FrontEndScheduler.run(FrontEndScheduler.java:122)
	at java.lang.Thread.run(Unknown Source)

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:31:48.666
!MESSAGE Perspective msi.gama.application.perspectives.ModelingPerspective open 

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:31:53.494
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.DoubleLiteralImpl@6b9aa91d (op: 1.0)

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:31:55.947
!MESSAGE Perspective msi.gama.application.perspectives.SimulationPerspective open 

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:33:25.416
!MESSAGE Perspective msi.gama.application.perspectives.ModelingPerspective open 

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:33:58.556
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.DoubleLiteralImpl@c64fb61 (op: 146.0)

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:34:02.713
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:34:13.148
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.S_DefinitionImpl@3c5ca530 (key: null, firstFacet: null) (name: abbonamento)

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:34:16.320
!MESSAGE Perspective msi.gama.application.perspectives.SimulationPerspective open 

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:35:33.810
!MESSAGE Perspective msi.gama.application.perspectives.ModelingPerspective open 

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:35:34.761
!MESSAGE Perspective msi.gama.application.perspectives.SimulationPerspective open 

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:36:43.950
!MESSAGE Perspective msi.gama.application.perspectives.ModelingPerspective open 

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:36:51.950
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.DoubleLiteralImpl@4a4dc82c (op: 1.0)

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:36:53.388
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:36:57.884
!MESSAGE Perspective msi.gama.application.perspectives.SimulationPerspective open 

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:38:27.609
!MESSAGE Perspective msi.gama.application.perspectives.ModelingPerspective open 

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:38:31.859
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.FacetImpl@7c9ec406 (name: null) (key: <-)

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:38:33.984
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:38:34.925
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:38:36.737
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:38:39.316
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:38:44.174
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:38:44.549
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:38:50.378
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:38:52.719
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.DoubleLiteralImpl@435a19db (op: 2.0)

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:38:57.188
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.FacetImpl@a32349e (name: null) (key: seed)

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:38:59.750
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:39:02.625
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.FacetImpl@3de2e2d7 (name: null) (key: parameter:)

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:39:04.906
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:39:06.000
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:39:06.381
!MESSAGE Infinite recursion detected in completion proposal for org.eclipse.xtext.impl.AlternativesImpl@3fc5d397 (cardinality: null, predicated: false)

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:39:06.874
!MESSAGE Infinite recursion detected in completion proposal for org.eclipse.xtext.impl.KeywordImpl@6e3552b0 (cardinality: null, predicated: false) (value: :)

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:39:16.122
!MESSAGE Perspective msi.gama.application.perspectives.SimulationPerspective open 

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:39:30.280
!MESSAGE Perspective msi.gama.application.perspectives.ModelingPerspective open 

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:39:45.512
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.FacetImpl@587cb2d (name: null) (key: <-)

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:39:47.231
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.FacetImpl@587cb2d (name: null) (key: <-)

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:39:53.168
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:40:00.872
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:40:02.168
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:40:03.607
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:40:08.675
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:40:10.036
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:40:12.941
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:40:13.581
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:40:13.759
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:40:14.708
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:40:15.610
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:40:21.432
!MESSAGE Perspective msi.gama.application.perspectives.SimulationPerspective open 

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:43:14.192
!MESSAGE Perspective msi.gama.application.perspectives.ModelingPerspective open 

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:43:15.942
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.S_DisplayImpl@2214fcec (key: display, firstFacet: null) (name: chart)

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:43:16.552
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.speciesOrGridDisplayStatementImpl@322265db (key: species, firstFacet: null)

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:43:22.364
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.StringLiteralImpl@70653a7c (op: java)

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:43:33.019
!MESSAGE GamlJavaValidator.validate

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:43:49.200
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.TypeRefImpl@4899aa65 (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:43:49.200
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.S_DefinitionImpl@5f217240 (key: null, firstFacet: null) (name: rng)

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:43:56.513
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.StatementImpl@7097859e (key: output, firstFacet: null)

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:45:21.658
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.FacetImpl@19c7647b (name: null) (key: type:)

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:52:58.980
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.DoubleLiteralImpl@58c14106 (op: 146000.0)

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:54:09.242
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.VariableRefImpl@2b6e67b6 (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:54:09.852
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.StringLiteralImpl@5dd60de9 (op: ./exports/09_11/)

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:54:15.631
!MESSAGE Perspective msi.gama.application.perspectives.SimulationPerspective open 

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:55:21.110
!MESSAGE Perspective msi.gama.application.perspectives.ModelingPerspective open 

!ENTRY org.eclipse.ui 4 4 2015-11-10 22:55:24.141
!MESSAGE Perspective msi.gama.application.perspectives.SimulationPerspective open 

!ENTRY org.eclipse.ui 4 4 2015-11-10 23:28:02.540
!MESSAGE Perspective msi.gama.application.perspectives.ModelingPerspective open 

!ENTRY org.eclipse.ui 4 4 2015-11-10 23:28:03.823
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.TypeRefImpl@3d5c68dc (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-10 23:28:03.826
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.S_DefinitionImpl@5aefd50f (key: null, firstFacet: null) (name: grafo)

!ENTRY org.eclipse.ui 4 4 2015-11-10 23:28:06.806
!MESSAGE Perspective msi.gama.application.perspectives.SimulationPerspective open 

!ENTRY org.eclipse.ui.workbench 4 0 2015-11-11 04:00:06.736
!MESSAGE Widget disposed too early for part msi.gama.application.view.ParameterView
!STACK 0
java.lang.RuntimeException: Widget disposed too early for part msi.gama.application.view.ParameterView
	at org.eclipse.ui.internal.WorkbenchPartReference$1.widgetDisposed(WorkbenchPartReference.java:171)
	at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:123)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1057)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1081)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1062)
	at org.eclipse.swt.widgets.Widget.release(Widget.java:812)
	at org.eclipse.swt.widgets.Composite.releaseChildren(Composite.java:875)
	at org.eclipse.swt.widgets.Widget.release(Widget.java:815)
	at org.eclipse.swt.widgets.Composite.releaseChildren(Composite.java:875)
	at org.eclipse.swt.widgets.Widget.release(Widget.java:815)
	at org.eclipse.swt.widgets.Composite.releaseChildren(Composite.java:875)
	at org.eclipse.swt.widgets.Canvas.releaseChildren(Canvas.java:166)
	at org.eclipse.swt.widgets.Decorations.releaseChildren(Decorations.java:790)
	at org.eclipse.swt.widgets.Shell.releaseChildren(Shell.java:1290)
	at org.eclipse.swt.widgets.Widget.release(Widget.java:815)
	at org.eclipse.swt.widgets.Widget.dispose(Widget.java:450)
	at org.eclipse.swt.widgets.Decorations.dispose(Decorations.java:448)
	at org.eclipse.swt.widgets.Shell.dispose(Shell.java:715)
	at org.eclipse.swt.widgets.Display.release(Display.java:3809)
	at org.eclipse.swt.graphics.Device.dispose(Device.java:295)
	at org.eclipse.swt.widgets.Display.messageProc(Display.java:3290)
	at org.eclipse.swt.internal.win32.OS.DefWindowProcW(Native Method)
	at org.eclipse.swt.internal.win32.OS.DefWindowProc(OS.java:2544)
	at org.eclipse.swt.widgets.Shell.callWindowProc(Shell.java:498)
	at org.eclipse.swt.widgets.Control.windowProc(Control.java:4706)
	at org.eclipse.swt.widgets.Canvas.windowProc(Canvas.java:340)
	at org.eclipse.swt.widgets.Decorations.windowProc(Decorations.java:1627)
	at org.eclipse.swt.widgets.Shell.windowProc(Shell.java:2075)
	at org.eclipse.swt.widgets.Display.windowProc(Display.java:4990)
	at org.eclipse.swt.internal.win32.OS.PeekMessageW(Native Method)
	at org.eclipse.swt.internal.win32.OS.PeekMessage(OS.java:3141)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3754)
	at org.eclipse.jface.window.Window.runEventLoop(Window.java:825)
	at org.eclipse.jface.window.Window.open(Window.java:801)
	at org.eclipse.jface.dialogs.MessageDialog.open(MessageDialog.java:334)
	at org.eclipse.jface.dialogs.MessageDialogWithToggle.open(MessageDialogWithToggle.java:114)
	at org.eclipse.jface.dialogs.MessageDialogWithToggle.openOkCancelConfirm(MessageDialogWithToggle.java:209)
	at org.eclipse.ui.internal.ide.application.IDEWorkbenchWindowAdvisor.promptOnExit(IDEWorkbenchWindowAdvisor.java:218)
	at org.eclipse.ui.internal.ide.application.IDEWorkbenchAdvisor$2.handleEvent(IDEWorkbenchAdvisor.java:170)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84)
	at org.eclipse.swt.widgets.Display.sendEvent(Display.java:4344)
	at org.eclipse.swt.widgets.Display.messageProc(Display.java:3303)
	at org.eclipse.swt.internal.win32.OS.DefWindowProcW(Native Method)
	at org.eclipse.swt.internal.win32.OS.DefWindowProc(OS.java:2544)
	at org.eclipse.swt.widgets.Shell.callWindowProc(Shell.java:498)
	at org.eclipse.swt.widgets.Control.windowProc(Control.java:4706)
	at org.eclipse.swt.widgets.Canvas.windowProc(Canvas.java:340)
	at org.eclipse.swt.widgets.Decorations.windowProc(Decorations.java:1627)
	at org.eclipse.swt.widgets.Shell.windowProc(Shell.java:2075)
	at org.eclipse.swt.widgets.Display.windowProc(Display.java:4990)
	at org.eclipse.swt.internal.win32.OS.PeekMessageW(Native Method)
	at org.eclipse.swt.internal.win32.OS.PeekMessage(OS.java:3141)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3754)
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2701)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2665)
	at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2499)
	at org.eclipse.ui.internal.Workbench$7.run(Workbench.java:679)
	at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:668)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)
	at msi.gama.gui.swt.Application.start(Application.java:120)
	at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196)
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110)
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:353)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:180)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:629)
	at org.eclipse.equinox.launcher.Main.basicRun(Main.java:584)
	at org.eclipse.equinox.launcher.Main.run(Main.java:1438)
!SESSION 2015-11-15 19:41:28.872 -----------------------------------------------
eclipse.buildId=unknown
java.version=1.8.0_60
java.vendor=Oracle Corporation
BootLoader constants: OS=win32, ARCH=x86_64, WS=win32, NL=${target.nl}
Command-line arguments:  -os win32 -ws win32 -arch x86_64 -data @noDefault

!ENTRY org.eclipse.core.resources 2 10035 2015-11-15 19:41:30.430
!MESSAGE The workspace exited with unsaved changes in the previous session; refreshing workspace to recover changes.

!ENTRY org.eclipse.ui 4 4 2015-11-15 19:41:33.681
!MESSAGE Unable to create menu item "org.eclipse.ui.update.findAndInstallUpdates", command "org.eclipse.ui.update.findAndInstallUpdates" not defined

!ENTRY org.eclipse.ui 4 4 2015-11-15 19:41:33.685
!MESSAGE Unable to create menu item "org.eclipse.ui.update.manageConfiguration", command "org.eclipse.ui.update.manageConfiguration" not defined

!ENTRY org.apache.log4j 2 0 2015-11-15 19:41:34.029
!MESSAGE org.eclipse.xtext.ui.shared.internal.Activator  - Disabling JDT use. : org/eclipse/jdt/core/JavaCore


!ENTRY org.apache.log4j 2 0 2015-11-15 19:41:34.230
!MESSAGE org.eclipse.xtext.ui.shared.internal.Activator  - Disabling JDT use. : org/eclipse/jdt/core/JavaCore


!ENTRY org.eclipse.ui 4 4 2015-11-15 19:43:06.026
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.FunctionImpl@14dbddd7 (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-15 19:43:38.932
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.VariableRefImpl@7c06910d (op: null)

!ENTRY org.eclipse.ui 4 4 2015-11-15 19:43:40.998
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.ReservedLiteralImpl@2427bc0e (op: self)
!SESSION 2015-12-23 14:29:49.052 -----------------------------------------------
eclipse.buildId=unknown
java.version=1.8.0_60
java.vendor=Oracle Corporation
BootLoader constants: OS=win32, ARCH=x86_64, WS=win32, NL=${target.nl}
Command-line arguments:  -os win32 -ws win32 -arch x86_64 -data @noDefault

!ENTRY org.eclipse.ui 4 4 2015-12-23 14:29:52.393
!MESSAGE Unable to create menu item "org.eclipse.ui.update.findAndInstallUpdates", command "org.eclipse.ui.update.findAndInstallUpdates" not defined

!ENTRY org.eclipse.ui 4 4 2015-12-23 14:29:52.415
!MESSAGE Unable to create menu item "org.eclipse.ui.update.manageConfiguration", command "org.eclipse.ui.update.manageConfiguration" not defined

!ENTRY org.apache.log4j 2 0 2015-12-23 14:29:52.788
!MESSAGE org.eclipse.xtext.ui.shared.internal.Activator  - Disabling JDT use. : org/eclipse/jdt/core/JavaCore


!ENTRY org.apache.log4j 2 0 2015-12-23 14:29:52.968
!MESSAGE org.eclipse.xtext.ui.shared.internal.Activator  - Disabling JDT use. : org/eclipse/jdt/core/JavaCore

!SESSION 2016-03-16 15:35:05.586 -----------------------------------------------
eclipse.buildId=unknown
java.version=1.8.0_60
java.vendor=Oracle Corporation
BootLoader constants: OS=win32, ARCH=x86_64, WS=win32, NL=${target.nl}
Command-line arguments:  -os win32 -ws win32 -arch x86_64 -data @noDefault

!ENTRY org.eclipse.ui 4 4 2016-03-16 15:35:15.063
!MESSAGE Unable to create menu item "org.eclipse.ui.update.findAndInstallUpdates", command "org.eclipse.ui.update.findAndInstallUpdates" not defined

!ENTRY org.eclipse.ui 4 4 2016-03-16 15:35:15.080
!MESSAGE Unable to create menu item "org.eclipse.ui.update.manageConfiguration", command "org.eclipse.ui.update.manageConfiguration" not defined

!ENTRY org.apache.log4j 2 0 2016-03-16 15:35:16.318
!MESSAGE org.eclipse.xtext.ui.shared.internal.Activator  - Disabling JDT use. : org/eclipse/jdt/core/JavaCore


!ENTRY org.apache.log4j 2 0 2016-03-16 15:35:17.055
!MESSAGE org.eclipse.xtext.ui.shared.internal.Activator  - Disabling JDT use. : org/eclipse/jdt/core/JavaCore


!ENTRY org.eclipse.ui 4 4 2016-03-16 15:35:40.840
!MESSAGE ERROR: Cannot find icon prefs.workspace

!ENTRY org.eclipse.ui 4 4 2016-03-16 15:36:15.374
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.FunctionImpl@55e3df26 (op: null)
!SESSION 2016-03-16 16:06:38.989 -----------------------------------------------
eclipse.buildId=unknown
java.version=1.8.0_60
java.vendor=Oracle Corporation
BootLoader constants: OS=win32, ARCH=x86_64, WS=win32, NL=${target.nl}
Command-line arguments:  -os win32 -ws win32 -arch x86_64 -data @noDefault

!ENTRY org.eclipse.ui 4 4 2016-03-16 16:06:44.817
!MESSAGE Unable to create menu item "org.eclipse.ui.update.findAndInstallUpdates", command "org.eclipse.ui.update.findAndInstallUpdates" not defined

!ENTRY org.eclipse.ui 4 4 2016-03-16 16:06:44.866
!MESSAGE Unable to create menu item "org.eclipse.ui.update.manageConfiguration", command "org.eclipse.ui.update.manageConfiguration" not defined

!ENTRY org.apache.log4j 2 0 2016-03-16 16:06:46.537
!MESSAGE org.eclipse.xtext.ui.shared.internal.Activator  - Disabling JDT use. : org/eclipse/jdt/core/JavaCore


!ENTRY org.apache.log4j 2 0 2016-03-16 16:06:47.438
!MESSAGE org.eclipse.xtext.ui.shared.internal.Activator  - Disabling JDT use. : org/eclipse/jdt/core/JavaCore


!ENTRY org.eclipse.ui 4 4 2016-03-16 16:06:56.495
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.TypeRefImpl@660b55e7 (op: null)

!ENTRY org.eclipse.ui 4 4 2016-03-16 16:06:56.495
!MESSAGE GamlDocumentationProvider.getDocumentation for msi.gama.lang.gaml.gaml.impl.S_DefinitionImpl@59fea5f5 (key: null, firstFacet: null) (name: csv_mobility)
